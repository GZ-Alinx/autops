{"level":"INFO","ts":"2025-08-01T02:14:40.566+0800","caller":"logger/logger.go:29","msg":"日志模块初始化成功","日志级别":"info","输出路径":"logs/"}
{"level":"INFO","ts":"2025-08-01T02:14:40.566+0800","caller":"autops/main.go:49","msg":"日志系统初始化成功"}
{"level":"INFO","ts":"2025-08-01T02:14:40.566+0800","caller":"database/db.go:19","msg":"开始初始化数据库连接"}
{"level":"INFO","ts":"2025-08-01T02:14:40.566+0800","caller":"database/db.go:40","msg":"正在连接数据库: root:123456@tcp(localhost:3306)/autops?charset=utf8mb4&parseTime=True&loc=Local"}
{"level":"INFO","ts":"2025-08-01T02:14:40.570+0800","caller":"database/db.go:49","msg":"数据库连接成功，正在设置连接池参数"}
{"level":"INFO","ts":"2025-08-01T02:14:40.570+0800","caller":"database/db.go:57","msg":"设置最大打开连接数为: 100"}
{"level":"INFO","ts":"2025-08-01T02:14:40.570+0800","caller":"database/db.go:59","msg":"设置最大空闲连接数为: 20"}
{"level":"INFO","ts":"2025-08-01T02:14:40.570+0800","caller":"database/db.go:61","msg":"设置连接最大生存时间为: 5m0s"}
{"level":"INFO","ts":"2025-08-01T02:14:40.615+0800","caller":"database/db.go:69","msg":"数据库连接成功"}
{"level":"INFO","ts":"2025-08-01T02:14:40.615+0800","caller":"autops/main.go:56","msg":"数据库连接成功"}
{"level":"INFO","ts":"2025-08-01T02:14:40.660+0800","caller":"database/init.go:172","msg":"角色和权限初始化成功"}
{"level":"INFO","ts":"2025-08-01T02:14:40.660+0800","caller":"database/admin_init.go:12","msg":"开始初始化管理员用户"}
{"level":"WARN","ts":"2025-08-01T02:14:40.660+0800","caller":"database/admin_init.go:18","msg":"管理员用户已存在"}
{"level":"WARN","ts":"2025-08-01T02:14:40.660+0800","caller":"database/admin_init.go:57","msg":"管理员用户已拥有admin角色，跳过分配"}
{"level":"INFO","ts":"2025-08-01T02:14:40.673+0800","caller":"database/casbin_sync.go:59","msg":"Casbin策略同步成功","user_role_count":2,"role_permission_count":17}
{"level":"INFO","ts":"2025-08-01T02:14:40.673+0800","caller":"autops/main.go:68","msg":"Casbin权限控制和角色权限初始化成功"}
{"level":"INFO","ts":"2025-08-01T02:14:40.673+0800","caller":"autops/main.go:108","msg":"服务器启动成功，监听端口: 8888"}
{"level":"INFO","ts":"2025-08-01T02:15:09.250+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"INFO","ts":"2025-08-01T02:15:09.250+0800","caller":"middleware/jwt.go:73","msg":"JWT认证成功","username":"admin","userID":"1"}
{"level":"INFO","ts":"2025-08-01T02:15:09.250+0800","caller":"middleware/casbin.go:28","msg":"开始权限检查","username":"admin"}
{"level":"INFO","ts":"2025-08-01T02:15:09.251+0800","caller":"middleware/casbin.go:40","msg":"查询用户成功","username":"admin","userID":1}
{"level":"INFO","ts":"2025-08-01T02:15:09.252+0800","caller":"middleware/casbin.go:56","msg":"获取用户角色成功","username":"admin","roles":["admin"]}
{"level":"INFO","ts":"2025-08-01T02:15:09.252+0800","caller":"middleware/casbin.go:61","msg":"请求信息","path":"/api/v1/users/1","method":"GET"}
{"level":"INFO","ts":"2025-08-01T02:15:09.252+0800","caller":"middleware/casbin.go:75","msg":"角色权限不足","role":"admin","path":"/api/v1/users/1","method":"GET"}
{"level":"WARN","ts":"2025-08-01T02:15:09.252+0800","caller":"middleware/casbin.go:84","msg":"没有操作权限","username":"admin","path":"/api/v1/users/1","method":"GET"}
{"level":"INFO","ts":"2025-08-01T02:16:23.908+0800","caller":"autops/main.go:118","msg":"正在关闭服务器..."}
{"level":"INFO","ts":"2025-08-01T02:16:23.908+0800","caller":"autops/main.go:126","msg":"服务器已关闭"}
{"level":"INFO","ts":"2025-08-01T02:16:23.908+0800","caller":"database/db.go:90","msg":"数据库连接已关闭"}
{"level":"INFO","ts":"2025-08-01T02:16:27.047+0800","caller":"logger/logger.go:29","msg":"日志模块初始化成功","日志级别":"info","输出路径":"logs/"}
{"level":"INFO","ts":"2025-08-01T02:16:27.047+0800","caller":"autops/main.go:49","msg":"日志系统初始化成功"}
{"level":"INFO","ts":"2025-08-01T02:16:27.047+0800","caller":"database/db.go:19","msg":"开始初始化数据库连接"}
{"level":"INFO","ts":"2025-08-01T02:16:27.047+0800","caller":"database/db.go:40","msg":"正在连接数据库: root:123456@tcp(localhost:3306)/autops?charset=utf8mb4&parseTime=True&loc=Local"}
{"level":"INFO","ts":"2025-08-01T02:16:27.054+0800","caller":"database/db.go:49","msg":"数据库连接成功，正在设置连接池参数"}
{"level":"INFO","ts":"2025-08-01T02:16:27.054+0800","caller":"database/db.go:57","msg":"设置最大打开连接数为: 100"}
{"level":"INFO","ts":"2025-08-01T02:16:27.054+0800","caller":"database/db.go:59","msg":"设置最大空闲连接数为: 20"}
{"level":"INFO","ts":"2025-08-01T02:16:27.054+0800","caller":"database/db.go:61","msg":"设置连接最大生存时间为: 5m0s"}
{"level":"INFO","ts":"2025-08-01T02:16:27.106+0800","caller":"database/db.go:69","msg":"数据库连接成功"}
{"level":"INFO","ts":"2025-08-01T02:16:27.106+0800","caller":"autops/main.go:56","msg":"数据库连接成功"}
{"level":"INFO","ts":"2025-08-01T02:16:27.152+0800","caller":"database/init.go:172","msg":"角色和权限初始化成功"}
{"level":"INFO","ts":"2025-08-01T02:16:27.152+0800","caller":"database/admin_init.go:12","msg":"开始初始化管理员用户"}
{"level":"WARN","ts":"2025-08-01T02:16:27.152+0800","caller":"database/admin_init.go:18","msg":"管理员用户已存在"}
{"level":"WARN","ts":"2025-08-01T02:16:27.152+0800","caller":"database/admin_init.go:57","msg":"管理员用户已拥有admin角色，跳过分配"}
{"level":"INFO","ts":"2025-08-01T02:16:27.168+0800","caller":"database/casbin_sync.go:59","msg":"Casbin策略同步成功","user_role_count":2,"role_permission_count":23}
{"level":"INFO","ts":"2025-08-01T02:16:27.168+0800","caller":"autops/main.go:68","msg":"Casbin权限控制和角色权限初始化成功"}
{"level":"INFO","ts":"2025-08-01T02:16:27.169+0800","caller":"autops/main.go:108","msg":"服务器启动成功，监听端口: 8888"}
{"level":"INFO","ts":"2025-08-01T02:16:43.555+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"INFO","ts":"2025-08-01T02:16:43.556+0800","caller":"middleware/jwt.go:73","msg":"JWT认证成功","username":"admin","userID":"1"}
{"level":"INFO","ts":"2025-08-01T02:16:43.556+0800","caller":"middleware/casbin.go:28","msg":"开始权限检查","username":"admin"}
{"level":"INFO","ts":"2025-08-01T02:16:43.559+0800","caller":"middleware/casbin.go:40","msg":"查询用户成功","username":"admin","userID":1}
{"level":"INFO","ts":"2025-08-01T02:16:43.560+0800","caller":"middleware/casbin.go:56","msg":"获取用户角色成功","username":"admin","roles":["admin"]}
{"level":"INFO","ts":"2025-08-01T02:16:43.560+0800","caller":"middleware/casbin.go:61","msg":"请求信息","path":"/api/v1/users/1","method":"GET"}
{"level":"INFO","ts":"2025-08-01T02:16:43.561+0800","caller":"middleware/casbin.go:75","msg":"角色权限不足","role":"admin","path":"/api/v1/users/1","method":"GET"}
{"level":"WARN","ts":"2025-08-01T02:16:43.561+0800","caller":"middleware/casbin.go:84","msg":"没有操作权限","username":"admin","path":"/api/v1/users/1","method":"GET"}
{"level":"INFO","ts":"2025-08-01T02:16:44.368+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"INFO","ts":"2025-08-01T02:16:44.368+0800","caller":"middleware/jwt.go:73","msg":"JWT认证成功","username":"admin","userID":"1"}
{"level":"INFO","ts":"2025-08-01T02:16:44.368+0800","caller":"middleware/casbin.go:28","msg":"开始权限检查","username":"admin"}
{"level":"INFO","ts":"2025-08-01T02:16:44.369+0800","caller":"middleware/casbin.go:40","msg":"查询用户成功","username":"admin","userID":1}
{"level":"INFO","ts":"2025-08-01T02:16:44.370+0800","caller":"middleware/casbin.go:56","msg":"获取用户角色成功","username":"admin","roles":["admin"]}
{"level":"INFO","ts":"2025-08-01T02:16:44.370+0800","caller":"middleware/casbin.go:61","msg":"请求信息","path":"/api/v1/users/1","method":"GET"}
{"level":"INFO","ts":"2025-08-01T02:16:44.370+0800","caller":"middleware/casbin.go:75","msg":"角色权限不足","role":"admin","path":"/api/v1/users/1","method":"GET"}
{"level":"WARN","ts":"2025-08-01T02:16:44.370+0800","caller":"middleware/casbin.go:84","msg":"没有操作权限","username":"admin","path":"/api/v1/users/1","method":"GET"}
{"level":"INFO","ts":"2025-08-01T02:17:29.281+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"INFO","ts":"2025-08-01T02:17:29.281+0800","caller":"middleware/jwt.go:73","msg":"JWT认证成功","username":"admin","userID":"1"}
{"level":"INFO","ts":"2025-08-01T02:17:29.281+0800","caller":"middleware/casbin.go:28","msg":"开始权限检查","username":"admin"}
{"level":"INFO","ts":"2025-08-01T02:17:29.282+0800","caller":"middleware/casbin.go:40","msg":"查询用户成功","username":"admin","userID":1}
{"level":"INFO","ts":"2025-08-01T02:17:29.282+0800","caller":"middleware/casbin.go:56","msg":"获取用户角色成功","username":"admin","roles":["admin"]}
{"level":"INFO","ts":"2025-08-01T02:17:29.282+0800","caller":"middleware/casbin.go:61","msg":"请求信息","path":"/api/v1/users/1","method":"GET"}
{"level":"INFO","ts":"2025-08-01T02:17:29.282+0800","caller":"middleware/casbin.go:75","msg":"角色权限不足","role":"admin","path":"/api/v1/users/1","method":"GET"}
{"level":"WARN","ts":"2025-08-01T02:17:29.282+0800","caller":"middleware/casbin.go:84","msg":"没有操作权限","username":"admin","path":"/api/v1/users/1","method":"GET"}
{"level":"INFO","ts":"2025-08-01T02:17:29.972+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"INFO","ts":"2025-08-01T02:17:29.972+0800","caller":"middleware/jwt.go:73","msg":"JWT认证成功","username":"admin","userID":"1"}
{"level":"INFO","ts":"2025-08-01T02:17:29.972+0800","caller":"middleware/casbin.go:28","msg":"开始权限检查","username":"admin"}
{"level":"INFO","ts":"2025-08-01T02:17:29.973+0800","caller":"middleware/casbin.go:40","msg":"查询用户成功","username":"admin","userID":1}
{"level":"INFO","ts":"2025-08-01T02:17:29.975+0800","caller":"middleware/casbin.go:56","msg":"获取用户角色成功","username":"admin","roles":["admin"]}
{"level":"INFO","ts":"2025-08-01T02:17:29.975+0800","caller":"middleware/casbin.go:61","msg":"请求信息","path":"/api/v1/users/1","method":"GET"}
{"level":"INFO","ts":"2025-08-01T02:17:29.975+0800","caller":"middleware/casbin.go:75","msg":"角色权限不足","role":"admin","path":"/api/v1/users/1","method":"GET"}
{"level":"WARN","ts":"2025-08-01T02:17:29.975+0800","caller":"middleware/casbin.go:84","msg":"没有操作权限","username":"admin","path":"/api/v1/users/1","method":"GET"}
{"level":"INFO","ts":"2025-08-01T02:17:30.623+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"INFO","ts":"2025-08-01T02:17:30.623+0800","caller":"middleware/jwt.go:73","msg":"JWT认证成功","username":"admin","userID":"1"}
{"level":"INFO","ts":"2025-08-01T02:17:30.623+0800","caller":"middleware/casbin.go:28","msg":"开始权限检查","username":"admin"}
{"level":"INFO","ts":"2025-08-01T02:17:30.625+0800","caller":"middleware/casbin.go:40","msg":"查询用户成功","username":"admin","userID":1}
{"level":"INFO","ts":"2025-08-01T02:17:30.626+0800","caller":"middleware/casbin.go:56","msg":"获取用户角色成功","username":"admin","roles":["admin"]}
{"level":"INFO","ts":"2025-08-01T02:17:30.626+0800","caller":"middleware/casbin.go:61","msg":"请求信息","path":"/api/v1/users/1","method":"GET"}
{"level":"INFO","ts":"2025-08-01T02:17:30.626+0800","caller":"middleware/casbin.go:75","msg":"角色权限不足","role":"admin","path":"/api/v1/users/1","method":"GET"}
{"level":"WARN","ts":"2025-08-01T02:17:30.627+0800","caller":"middleware/casbin.go:84","msg":"没有操作权限","username":"admin","path":"/api/v1/users/1","method":"GET"}
{"level":"INFO","ts":"2025-08-01T02:17:31.993+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"INFO","ts":"2025-08-01T02:17:31.993+0800","caller":"middleware/jwt.go:73","msg":"JWT认证成功","username":"admin","userID":"1"}
{"level":"INFO","ts":"2025-08-01T02:17:31.993+0800","caller":"middleware/casbin.go:28","msg":"开始权限检查","username":"admin"}
{"level":"INFO","ts":"2025-08-01T02:17:31.995+0800","caller":"middleware/casbin.go:40","msg":"查询用户成功","username":"admin","userID":1}
{"level":"INFO","ts":"2025-08-01T02:17:31.995+0800","caller":"middleware/casbin.go:56","msg":"获取用户角色成功","username":"admin","roles":["admin"]}
{"level":"INFO","ts":"2025-08-01T02:17:31.995+0800","caller":"middleware/casbin.go:61","msg":"请求信息","path":"/api/v1/users/1","method":"GET"}
{"level":"INFO","ts":"2025-08-01T02:17:31.995+0800","caller":"middleware/casbin.go:75","msg":"角色权限不足","role":"admin","path":"/api/v1/users/1","method":"GET"}
{"level":"WARN","ts":"2025-08-01T02:17:31.995+0800","caller":"middleware/casbin.go:84","msg":"没有操作权限","username":"admin","path":"/api/v1/users/1","method":"GET"}
{"level":"INFO","ts":"2025-08-01T02:17:33.975+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"INFO","ts":"2025-08-01T02:17:33.976+0800","caller":"middleware/jwt.go:73","msg":"JWT认证成功","username":"admin","userID":"1"}
{"level":"INFO","ts":"2025-08-01T02:17:33.976+0800","caller":"middleware/casbin.go:28","msg":"开始权限检查","username":"admin"}
{"level":"INFO","ts":"2025-08-01T02:17:33.977+0800","caller":"middleware/casbin.go:40","msg":"查询用户成功","username":"admin","userID":1}
{"level":"INFO","ts":"2025-08-01T02:17:33.978+0800","caller":"middleware/casbin.go:56","msg":"获取用户角色成功","username":"admin","roles":["admin"]}
{"level":"INFO","ts":"2025-08-01T02:17:33.978+0800","caller":"middleware/casbin.go:61","msg":"请求信息","path":"/api/v1/users/1","method":"GET"}
{"level":"INFO","ts":"2025-08-01T02:17:33.978+0800","caller":"middleware/casbin.go:75","msg":"角色权限不足","role":"admin","path":"/api/v1/users/1","method":"GET"}
{"level":"WARN","ts":"2025-08-01T02:17:33.978+0800","caller":"middleware/casbin.go:84","msg":"没有操作权限","username":"admin","path":"/api/v1/users/1","method":"GET"}
{"level":"INFO","ts":"2025-08-01T02:21:20.503+0800","caller":"autops/main.go:118","msg":"正在关闭服务器..."}
{"level":"INFO","ts":"2025-08-01T02:21:20.503+0800","caller":"autops/main.go:126","msg":"服务器已关闭"}
{"level":"INFO","ts":"2025-08-01T02:21:20.503+0800","caller":"database/db.go:90","msg":"数据库连接已关闭"}
{"level":"INFO","ts":"2025-08-01T02:21:23.426+0800","caller":"logger/logger.go:29","msg":"日志模块初始化成功","日志级别":"info","输出路径":"logs/"}
{"level":"INFO","ts":"2025-08-01T02:21:23.426+0800","caller":"autops/main.go:49","msg":"日志系统初始化成功"}
{"level":"INFO","ts":"2025-08-01T02:21:23.426+0800","caller":"database/db.go:19","msg":"开始初始化数据库连接"}
{"level":"INFO","ts":"2025-08-01T02:21:23.426+0800","caller":"database/db.go:40","msg":"正在连接数据库: root:123456@tcp(localhost:3306)/autops?charset=utf8mb4&parseTime=True&loc=Local"}
{"level":"INFO","ts":"2025-08-01T02:21:23.431+0800","caller":"database/db.go:49","msg":"数据库连接成功，正在设置连接池参数"}
{"level":"INFO","ts":"2025-08-01T02:21:23.431+0800","caller":"database/db.go:57","msg":"设置最大打开连接数为: 100"}
{"level":"INFO","ts":"2025-08-01T02:21:23.431+0800","caller":"database/db.go:59","msg":"设置最大空闲连接数为: 20"}
{"level":"INFO","ts":"2025-08-01T02:21:23.431+0800","caller":"database/db.go:61","msg":"设置连接最大生存时间为: 5m0s"}
{"level":"INFO","ts":"2025-08-01T02:21:23.478+0800","caller":"database/db.go:69","msg":"数据库连接成功"}
{"level":"INFO","ts":"2025-08-01T02:21:23.478+0800","caller":"autops/main.go:56","msg":"数据库连接成功"}
{"level":"INFO","ts":"2025-08-01T02:21:23.523+0800","caller":"database/init.go:172","msg":"角色和权限初始化成功"}
{"level":"INFO","ts":"2025-08-01T02:21:23.523+0800","caller":"database/admin_init.go:12","msg":"开始初始化管理员用户"}
{"level":"WARN","ts":"2025-08-01T02:21:23.524+0800","caller":"database/admin_init.go:18","msg":"管理员用户已存在"}
{"level":"WARN","ts":"2025-08-01T02:21:23.524+0800","caller":"database/admin_init.go:57","msg":"管理员用户已拥有admin角色，跳过分配"}
{"level":"INFO","ts":"2025-08-01T02:21:23.538+0800","caller":"database/casbin_sync.go:59","msg":"Casbin策略同步成功","user_role_count":2,"role_permission_count":23}
{"level":"INFO","ts":"2025-08-01T02:21:23.538+0800","caller":"autops/main.go:68","msg":"Casbin权限控制和角色权限初始化成功"}
{"level":"INFO","ts":"2025-08-01T02:21:23.539+0800","caller":"autops/main.go:108","msg":"服务器启动成功，监听端口: 8888"}
{"level":"INFO","ts":"2025-08-01T02:21:27.347+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"INFO","ts":"2025-08-01T02:21:27.347+0800","caller":"middleware/jwt.go:73","msg":"JWT认证成功","username":"admin","userID":"1"}
{"level":"INFO","ts":"2025-08-01T02:21:27.347+0800","caller":"middleware/casbin.go:28","msg":"开始权限检查","username":"admin"}
{"level":"INFO","ts":"2025-08-01T02:21:27.361+0800","caller":"middleware/casbin.go:40","msg":"查询用户成功","username":"admin","userID":1}
{"level":"INFO","ts":"2025-08-01T02:21:27.362+0800","caller":"middleware/casbin.go:56","msg":"获取用户角色成功","username":"admin","roles":["admin"]}
{"level":"INFO","ts":"2025-08-01T02:21:27.362+0800","caller":"middleware/casbin.go:61","msg":"请求信息","path":"/api/v1/users/1","method":"GET"}
{"level":"INFO","ts":"2025-08-01T02:21:27.362+0800","caller":"middleware/casbin.go:72","msg":"权限检查通过","role":"admin","path":"/api/v1/users/1","method":"GET"}
{"level":"INFO","ts":"2025-08-01T02:21:27.362+0800","caller":"middleware/casbin.go:90","msg":"权限检查通过","username":"admin","path":"/api/v1/users/1","method":"GET"}
{"level":"INFO","ts":"2025-08-01T02:21:35.295+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"INFO","ts":"2025-08-01T02:21:35.295+0800","caller":"middleware/jwt.go:73","msg":"JWT认证成功","username":"admin","userID":"1"}
{"level":"INFO","ts":"2025-08-01T02:21:35.295+0800","caller":"middleware/casbin.go:28","msg":"开始权限检查","username":"admin"}
{"level":"INFO","ts":"2025-08-01T02:21:35.296+0800","caller":"middleware/casbin.go:40","msg":"查询用户成功","username":"admin","userID":1}
{"level":"INFO","ts":"2025-08-01T02:21:35.296+0800","caller":"middleware/casbin.go:56","msg":"获取用户角色成功","username":"admin","roles":["admin"]}
{"level":"INFO","ts":"2025-08-01T02:21:35.296+0800","caller":"middleware/casbin.go:61","msg":"请求信息","path":"/api/v1/users","method":"GET"}
{"level":"INFO","ts":"2025-08-01T02:21:35.296+0800","caller":"middleware/casbin.go:72","msg":"权限检查通过","role":"admin","path":"/api/v1/users","method":"GET"}
{"level":"INFO","ts":"2025-08-01T02:21:35.296+0800","caller":"middleware/casbin.go:90","msg":"权限检查通过","username":"admin","path":"/api/v1/users","method":"GET"}
{"level":"INFO","ts":"2025-08-01T12:25:54.484+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"INFO","ts":"2025-08-01T12:25:54.486+0800","caller":"middleware/jwt.go:73","msg":"JWT认证成功","username":"admin","userID":"1"}
{"level":"INFO","ts":"2025-08-01T12:25:54.486+0800","caller":"middleware/casbin.go:28","msg":"开始权限检查","username":"admin"}
{"level":"INFO","ts":"2025-08-01T12:25:54.503+0800","caller":"middleware/casbin.go:40","msg":"查询用户成功","username":"admin","userID":1}
{"level":"INFO","ts":"2025-08-01T12:25:54.504+0800","caller":"middleware/casbin.go:56","msg":"获取用户角色成功","username":"admin","roles":["admin"]}
{"level":"INFO","ts":"2025-08-01T12:25:54.504+0800","caller":"middleware/casbin.go:61","msg":"请求信息","path":"/api/v1/users","method":"GET"}
{"level":"INFO","ts":"2025-08-01T12:25:54.504+0800","caller":"middleware/casbin.go:72","msg":"权限检查通过","role":"admin","path":"/api/v1/users","method":"GET"}
{"level":"INFO","ts":"2025-08-01T12:25:54.504+0800","caller":"middleware/casbin.go:90","msg":"权限检查通过","username":"admin","path":"/api/v1/users","method":"GET"}
{"level":"INFO","ts":"2025-08-01T12:26:08.500+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"ERROR","ts":"2025-08-01T12:26:08.501+0800","caller":"middleware/jwt.go:56","msg":"JWT解析失败","error":"token has invalid claims: token is expired","token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiMiIsInVzZXJuYW1lIjoiam9obmQiLCJpc3MiOiJhdXRvcHMiLCJleHAiOjE3NTM4MTU0NTYsIm5iZiI6MTc1MzcyOTA1NiwiaWF0IjoxNzUzNzI5MDU2fQ.1Pktf8OInF3_IrcJz3mhIKGCN6tXoAGJN6jn_j2u1Ys"}
{"level":"INFO","ts":"2025-08-01T12:26:24.839+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"INFO","ts":"2025-08-01T12:26:24.839+0800","caller":"middleware/jwt.go:73","msg":"JWT认证成功","username":"admin","userID":"1"}
{"level":"INFO","ts":"2025-08-01T12:26:24.839+0800","caller":"middleware/casbin.go:28","msg":"开始权限检查","username":"admin"}
{"level":"INFO","ts":"2025-08-01T12:26:24.840+0800","caller":"middleware/casbin.go:40","msg":"查询用户成功","username":"admin","userID":1}
{"level":"INFO","ts":"2025-08-01T12:26:24.841+0800","caller":"middleware/casbin.go:56","msg":"获取用户角色成功","username":"admin","roles":["admin"]}
{"level":"INFO","ts":"2025-08-01T12:26:24.841+0800","caller":"middleware/casbin.go:61","msg":"请求信息","path":"/api/v1/users","method":"GET"}
{"level":"INFO","ts":"2025-08-01T12:26:24.841+0800","caller":"middleware/casbin.go:72","msg":"权限检查通过","role":"admin","path":"/api/v1/users","method":"GET"}
{"level":"INFO","ts":"2025-08-01T12:26:24.841+0800","caller":"middleware/casbin.go:90","msg":"权限检查通过","username":"admin","path":"/api/v1/users","method":"GET"}
{"level":"WARN","ts":"2025-08-01T12:29:26.666+0800","caller":"middleware/jwt.go:31","msg":"JWT认证失败: 未提供认证信息"}
{"level":"INFO","ts":"2025-08-01T12:29:38.147+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"INFO","ts":"2025-08-01T12:29:38.148+0800","caller":"middleware/jwt.go:73","msg":"JWT认证成功","username":"admin","userID":"1"}
{"level":"INFO","ts":"2025-08-01T12:29:38.148+0800","caller":"middleware/casbin.go:28","msg":"开始权限检查","username":"admin"}
{"level":"INFO","ts":"2025-08-01T12:29:38.150+0800","caller":"middleware/casbin.go:40","msg":"查询用户成功","username":"admin","userID":1}
{"level":"INFO","ts":"2025-08-01T12:29:38.151+0800","caller":"middleware/casbin.go:56","msg":"获取用户角色成功","username":"admin","roles":["admin"]}
{"level":"INFO","ts":"2025-08-01T12:29:38.151+0800","caller":"middleware/casbin.go:61","msg":"请求信息","path":"/api/v1/users/1","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T12:29:38.151+0800","caller":"middleware/casbin.go:72","msg":"权限检查通过","role":"admin","path":"/api/v1/users/1","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T12:29:38.151+0800","caller":"middleware/casbin.go:90","msg":"权限检查通过","username":"admin","path":"/api/v1/users/1","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T12:31:36.515+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"INFO","ts":"2025-08-01T12:31:36.516+0800","caller":"middleware/jwt.go:73","msg":"JWT认证成功","username":"admin","userID":"1"}
{"level":"INFO","ts":"2025-08-01T12:31:36.516+0800","caller":"middleware/casbin.go:28","msg":"开始权限检查","username":"admin"}
{"level":"INFO","ts":"2025-08-01T12:31:36.521+0800","caller":"middleware/casbin.go:40","msg":"查询用户成功","username":"admin","userID":1}
{"level":"INFO","ts":"2025-08-01T12:31:36.521+0800","caller":"middleware/casbin.go:56","msg":"获取用户角色成功","username":"admin","roles":["admin"]}
{"level":"INFO","ts":"2025-08-01T12:31:36.521+0800","caller":"middleware/casbin.go:61","msg":"请求信息","path":"/api/v1/users/1","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T12:31:36.521+0800","caller":"middleware/casbin.go:72","msg":"权限检查通过","role":"admin","path":"/api/v1/users/1","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T12:31:36.521+0800","caller":"middleware/casbin.go:90","msg":"权限检查通过","username":"admin","path":"/api/v1/users/1","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T12:32:09.693+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"INFO","ts":"2025-08-01T12:32:09.694+0800","caller":"middleware/jwt.go:73","msg":"JWT认证成功","username":"admin","userID":"1"}
{"level":"INFO","ts":"2025-08-01T12:32:09.694+0800","caller":"middleware/casbin.go:28","msg":"开始权限检查","username":"admin"}
{"level":"INFO","ts":"2025-08-01T12:32:09.695+0800","caller":"middleware/casbin.go:40","msg":"查询用户成功","username":"admin","userID":1}
{"level":"INFO","ts":"2025-08-01T12:32:09.696+0800","caller":"middleware/casbin.go:56","msg":"获取用户角色成功","username":"admin","roles":["admin"]}
{"level":"INFO","ts":"2025-08-01T12:32:09.696+0800","caller":"middleware/casbin.go:61","msg":"请求信息","path":"/api/v1/users/1","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T12:32:09.696+0800","caller":"middleware/casbin.go:72","msg":"权限检查通过","role":"admin","path":"/api/v1/users/1","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T12:32:09.696+0800","caller":"middleware/casbin.go:90","msg":"权限检查通过","username":"admin","path":"/api/v1/users/1","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T12:32:32.680+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"INFO","ts":"2025-08-01T12:32:32.680+0800","caller":"middleware/jwt.go:73","msg":"JWT认证成功","username":"admin","userID":"1"}
{"level":"INFO","ts":"2025-08-01T12:32:32.680+0800","caller":"middleware/casbin.go:28","msg":"开始权限检查","username":"admin"}
{"level":"INFO","ts":"2025-08-01T12:32:32.681+0800","caller":"middleware/casbin.go:40","msg":"查询用户成功","username":"admin","userID":1}
{"level":"INFO","ts":"2025-08-01T12:32:32.681+0800","caller":"middleware/casbin.go:56","msg":"获取用户角色成功","username":"admin","roles":["admin"]}
{"level":"INFO","ts":"2025-08-01T12:32:32.681+0800","caller":"middleware/casbin.go:61","msg":"请求信息","path":"/api/v1/users/1","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T12:32:32.681+0800","caller":"middleware/casbin.go:72","msg":"权限检查通过","role":"admin","path":"/api/v1/users/1","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T12:32:32.681+0800","caller":"middleware/casbin.go:90","msg":"权限检查通过","username":"admin","path":"/api/v1/users/1","method":"PUT"}
{"level":"ERROR","ts":"2025-08-01T12:32:32.685+0800","caller":"controllers/user_controller.go:253","msg":"更新用户失败","error":"Error 1062 (23000): Duplicate entry '13826194409' for key 'users.idx_users_phone'"}
{"level":"INFO","ts":"2025-08-01T12:32:41.853+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"INFO","ts":"2025-08-01T12:32:41.853+0800","caller":"middleware/jwt.go:73","msg":"JWT认证成功","username":"admin","userID":"1"}
{"level":"INFO","ts":"2025-08-01T12:32:41.853+0800","caller":"middleware/casbin.go:28","msg":"开始权限检查","username":"admin"}
{"level":"INFO","ts":"2025-08-01T12:32:41.855+0800","caller":"middleware/casbin.go:40","msg":"查询用户成功","username":"admin","userID":1}
{"level":"INFO","ts":"2025-08-01T12:32:41.856+0800","caller":"middleware/casbin.go:56","msg":"获取用户角色成功","username":"admin","roles":["admin"]}
{"level":"INFO","ts":"2025-08-01T12:32:41.856+0800","caller":"middleware/casbin.go:61","msg":"请求信息","path":"/api/v1/users/1","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T12:32:41.857+0800","caller":"middleware/casbin.go:72","msg":"权限检查通过","role":"admin","path":"/api/v1/users/1","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T12:32:41.857+0800","caller":"middleware/casbin.go:90","msg":"权限检查通过","username":"admin","path":"/api/v1/users/1","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T12:33:12.439+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"INFO","ts":"2025-08-01T12:33:12.440+0800","caller":"middleware/jwt.go:73","msg":"JWT认证成功","username":"admin","userID":"1"}
{"level":"INFO","ts":"2025-08-01T12:33:12.440+0800","caller":"middleware/casbin.go:28","msg":"开始权限检查","username":"admin"}
{"level":"INFO","ts":"2025-08-01T12:33:12.440+0800","caller":"middleware/casbin.go:40","msg":"查询用户成功","username":"admin","userID":1}
{"level":"INFO","ts":"2025-08-01T12:33:12.441+0800","caller":"middleware/casbin.go:56","msg":"获取用户角色成功","username":"admin","roles":["admin"]}
{"level":"INFO","ts":"2025-08-01T12:33:12.441+0800","caller":"middleware/casbin.go:61","msg":"请求信息","path":"/api/v1/users/2","method":"DELETE"}
{"level":"INFO","ts":"2025-08-01T12:33:12.441+0800","caller":"middleware/casbin.go:72","msg":"权限检查通过","role":"admin","path":"/api/v1/users/2","method":"DELETE"}
{"level":"INFO","ts":"2025-08-01T12:33:12.441+0800","caller":"middleware/casbin.go:90","msg":"权限检查通过","username":"admin","path":"/api/v1/users/2","method":"DELETE"}
{"level":"WARN","ts":"2025-08-01T12:39:50.065+0800","caller":"middleware/jwt.go:31","msg":"JWT认证失败: 未提供认证信息"}
{"level":"INFO","ts":"2025-08-01T12:39:56.448+0800","caller":"middleware/jwt.go:81","msg":"开始生成JWT令牌","username":"admin","userID":"1"}
{"level":"INFO","ts":"2025-08-01T12:39:56.448+0800","caller":"middleware/jwt.go:85","msg":"JWT令牌过期时间","expirationTime":"2025-08-02T12:39:56.448+0800"}
{"level":"INFO","ts":"2025-08-01T12:39:56.448+0800","caller":"middleware/jwt.go:109","msg":"生成JWT令牌成功","username":"admin"}
{"level":"INFO","ts":"2025-08-01T12:40:24.272+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"INFO","ts":"2025-08-01T12:40:24.273+0800","caller":"middleware/jwt.go:73","msg":"JWT认证成功","username":"admin","userID":"1"}
{"level":"INFO","ts":"2025-08-01T12:40:24.273+0800","caller":"middleware/casbin.go:28","msg":"开始权限检查","username":"admin"}
{"level":"INFO","ts":"2025-08-01T12:40:24.275+0800","caller":"middleware/casbin.go:40","msg":"查询用户成功","username":"admin","userID":1}
{"level":"INFO","ts":"2025-08-01T12:40:24.277+0800","caller":"middleware/casbin.go:56","msg":"获取用户角色成功","username":"admin","roles":["admin"]}
{"level":"INFO","ts":"2025-08-01T12:40:24.277+0800","caller":"middleware/casbin.go:61","msg":"请求信息","path":"/api/v1/roles","method":"POST"}
{"level":"INFO","ts":"2025-08-01T12:40:24.278+0800","caller":"middleware/casbin.go:72","msg":"权限检查通过","role":"admin","path":"/api/v1/roles","method":"POST"}
{"level":"INFO","ts":"2025-08-01T12:40:24.278+0800","caller":"middleware/casbin.go:90","msg":"权限检查通过","username":"admin","path":"/api/v1/roles","method":"POST"}
{"level":"INFO","ts":"2025-08-01T12:40:24.319+0800","caller":"database/casbin_sync.go:59","msg":"Casbin策略同步成功","user_role_count":2,"role_permission_count":23}
{"level":"INFO","ts":"2025-08-01T12:40:55.469+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"INFO","ts":"2025-08-01T12:40:55.470+0800","caller":"middleware/jwt.go:73","msg":"JWT认证成功","username":"admin","userID":"1"}
{"level":"INFO","ts":"2025-08-01T12:40:55.470+0800","caller":"middleware/casbin.go:28","msg":"开始权限检查","username":"admin"}
{"level":"INFO","ts":"2025-08-01T12:40:55.471+0800","caller":"middleware/casbin.go:40","msg":"查询用户成功","username":"admin","userID":1}
{"level":"INFO","ts":"2025-08-01T12:40:55.472+0800","caller":"middleware/casbin.go:56","msg":"获取用户角色成功","username":"admin","roles":["admin"]}
{"level":"INFO","ts":"2025-08-01T12:40:55.472+0800","caller":"middleware/casbin.go:61","msg":"请求信息","path":"/api/v1/roles","method":"GET"}
{"level":"INFO","ts":"2025-08-01T12:40:55.472+0800","caller":"middleware/casbin.go:72","msg":"权限检查通过","role":"admin","path":"/api/v1/roles","method":"GET"}
{"level":"INFO","ts":"2025-08-01T12:40:55.472+0800","caller":"middleware/casbin.go:90","msg":"权限检查通过","username":"admin","path":"/api/v1/roles","method":"GET"}
{"level":"INFO","ts":"2025-08-01T12:41:28.328+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"INFO","ts":"2025-08-01T12:41:28.328+0800","caller":"middleware/jwt.go:73","msg":"JWT认证成功","username":"admin","userID":"1"}
{"level":"INFO","ts":"2025-08-01T12:41:28.328+0800","caller":"middleware/casbin.go:28","msg":"开始权限检查","username":"admin"}
{"level":"INFO","ts":"2025-08-01T12:41:28.329+0800","caller":"middleware/casbin.go:40","msg":"查询用户成功","username":"admin","userID":1}
{"level":"INFO","ts":"2025-08-01T12:41:28.330+0800","caller":"middleware/casbin.go:56","msg":"获取用户角色成功","username":"admin","roles":["admin"]}
{"level":"INFO","ts":"2025-08-01T12:41:28.330+0800","caller":"middleware/casbin.go:61","msg":"请求信息","path":"/api/v1/roles/1","method":"GET"}
{"level":"INFO","ts":"2025-08-01T12:41:28.330+0800","caller":"middleware/casbin.go:72","msg":"权限检查通过","role":"admin","path":"/api/v1/roles/1","method":"GET"}
{"level":"INFO","ts":"2025-08-01T12:41:28.330+0800","caller":"middleware/casbin.go:90","msg":"权限检查通过","username":"admin","path":"/api/v1/roles/1","method":"GET"}
{"level":"INFO","ts":"2025-08-01T12:41:28.365+0800","caller":"database/casbin_sync.go:59","msg":"Casbin策略同步成功","user_role_count":2,"role_permission_count":23}
{"level":"INFO","ts":"2025-08-01T12:42:17.050+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"INFO","ts":"2025-08-01T12:42:17.051+0800","caller":"middleware/jwt.go:73","msg":"JWT认证成功","username":"admin","userID":"1"}
{"level":"INFO","ts":"2025-08-01T12:42:17.052+0800","caller":"middleware/casbin.go:28","msg":"开始权限检查","username":"admin"}
{"level":"INFO","ts":"2025-08-01T12:42:17.052+0800","caller":"middleware/casbin.go:40","msg":"查询用户成功","username":"admin","userID":1}
{"level":"INFO","ts":"2025-08-01T12:42:17.053+0800","caller":"middleware/casbin.go:56","msg":"获取用户角色成功","username":"admin","roles":["admin"]}
{"level":"INFO","ts":"2025-08-01T12:42:17.053+0800","caller":"middleware/casbin.go:61","msg":"请求信息","path":"/api/v1/roles/3","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T12:42:17.053+0800","caller":"middleware/casbin.go:72","msg":"权限检查通过","role":"admin","path":"/api/v1/roles/3","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T12:42:17.053+0800","caller":"middleware/casbin.go:90","msg":"权限检查通过","username":"admin","path":"/api/v1/roles/3","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T12:43:57.171+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"INFO","ts":"2025-08-01T12:43:57.172+0800","caller":"middleware/jwt.go:73","msg":"JWT认证成功","username":"admin","userID":"1"}
{"level":"INFO","ts":"2025-08-01T12:43:57.172+0800","caller":"middleware/casbin.go:28","msg":"开始权限检查","username":"admin"}
{"level":"INFO","ts":"2025-08-01T12:43:57.173+0800","caller":"middleware/casbin.go:40","msg":"查询用户成功","username":"admin","userID":1}
{"level":"INFO","ts":"2025-08-01T12:43:57.173+0800","caller":"middleware/casbin.go:56","msg":"获取用户角色成功","username":"admin","roles":["admin"]}
{"level":"INFO","ts":"2025-08-01T12:43:57.173+0800","caller":"middleware/casbin.go:61","msg":"请求信息","path":"/api/v1/roles/3","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T12:43:57.174+0800","caller":"middleware/casbin.go:72","msg":"权限检查通过","role":"admin","path":"/api/v1/roles/3","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T12:43:57.174+0800","caller":"middleware/casbin.go:90","msg":"权限检查通过","username":"admin","path":"/api/v1/roles/3","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T12:44:49.782+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"INFO","ts":"2025-08-01T12:44:49.783+0800","caller":"middleware/jwt.go:73","msg":"JWT认证成功","username":"admin","userID":"1"}
{"level":"INFO","ts":"2025-08-01T12:44:49.783+0800","caller":"middleware/casbin.go:28","msg":"开始权限检查","username":"admin"}
{"level":"INFO","ts":"2025-08-01T12:44:49.784+0800","caller":"middleware/casbin.go:40","msg":"查询用户成功","username":"admin","userID":1}
{"level":"INFO","ts":"2025-08-01T12:44:49.784+0800","caller":"middleware/casbin.go:56","msg":"获取用户角色成功","username":"admin","roles":["admin"]}
{"level":"INFO","ts":"2025-08-01T12:44:49.784+0800","caller":"middleware/casbin.go:61","msg":"请求信息","path":"/api/v1/roles/3","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T12:44:49.784+0800","caller":"middleware/casbin.go:72","msg":"权限检查通过","role":"admin","path":"/api/v1/roles/3","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T12:44:49.784+0800","caller":"middleware/casbin.go:90","msg":"权限检查通过","username":"admin","path":"/api/v1/roles/3","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T12:44:52.072+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"INFO","ts":"2025-08-01T12:44:52.072+0800","caller":"middleware/jwt.go:73","msg":"JWT认证成功","username":"admin","userID":"1"}
{"level":"INFO","ts":"2025-08-01T12:44:52.072+0800","caller":"middleware/casbin.go:28","msg":"开始权限检查","username":"admin"}
{"level":"INFO","ts":"2025-08-01T12:44:52.073+0800","caller":"middleware/casbin.go:40","msg":"查询用户成功","username":"admin","userID":1}
{"level":"INFO","ts":"2025-08-01T12:44:52.074+0800","caller":"middleware/casbin.go:56","msg":"获取用户角色成功","username":"admin","roles":["admin"]}
{"level":"INFO","ts":"2025-08-01T12:44:52.074+0800","caller":"middleware/casbin.go:61","msg":"请求信息","path":"/api/v1/roles/3","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T12:44:52.074+0800","caller":"middleware/casbin.go:72","msg":"权限检查通过","role":"admin","path":"/api/v1/roles/3","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T12:44:52.074+0800","caller":"middleware/casbin.go:90","msg":"权限检查通过","username":"admin","path":"/api/v1/roles/3","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T12:45:30.540+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"INFO","ts":"2025-08-01T12:45:30.540+0800","caller":"middleware/jwt.go:73","msg":"JWT认证成功","username":"admin","userID":"1"}
{"level":"INFO","ts":"2025-08-01T12:45:30.540+0800","caller":"middleware/casbin.go:28","msg":"开始权限检查","username":"admin"}
{"level":"INFO","ts":"2025-08-01T12:45:30.544+0800","caller":"middleware/casbin.go:40","msg":"查询用户成功","username":"admin","userID":1}
{"level":"INFO","ts":"2025-08-01T12:45:30.551+0800","caller":"middleware/casbin.go:56","msg":"获取用户角色成功","username":"admin","roles":["admin"]}
{"level":"INFO","ts":"2025-08-01T12:45:30.551+0800","caller":"middleware/casbin.go:61","msg":"请求信息","path":"/api/v1/roles/3","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T12:45:30.551+0800","caller":"middleware/casbin.go:72","msg":"权限检查通过","role":"admin","path":"/api/v1/roles/3","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T12:45:30.551+0800","caller":"middleware/casbin.go:90","msg":"权限检查通过","username":"admin","path":"/api/v1/roles/3","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T12:47:02.515+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"INFO","ts":"2025-08-01T12:47:02.516+0800","caller":"middleware/jwt.go:73","msg":"JWT认证成功","username":"admin","userID":"1"}
{"level":"INFO","ts":"2025-08-01T12:47:02.516+0800","caller":"middleware/casbin.go:28","msg":"开始权限检查","username":"admin"}
{"level":"INFO","ts":"2025-08-01T12:47:02.517+0800","caller":"middleware/casbin.go:40","msg":"查询用户成功","username":"admin","userID":1}
{"level":"INFO","ts":"2025-08-01T12:47:02.517+0800","caller":"middleware/casbin.go:56","msg":"获取用户角色成功","username":"admin","roles":["admin"]}
{"level":"INFO","ts":"2025-08-01T12:47:02.517+0800","caller":"middleware/casbin.go:61","msg":"请求信息","path":"/api/v1/roles/3","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T12:47:02.518+0800","caller":"middleware/casbin.go:72","msg":"权限检查通过","role":"admin","path":"/api/v1/roles/3","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T12:47:02.518+0800","caller":"middleware/casbin.go:90","msg":"权限检查通过","username":"admin","path":"/api/v1/roles/3","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T12:47:50.277+0800","caller":"autops/main.go:118","msg":"正在关闭服务器..."}
{"level":"INFO","ts":"2025-08-01T12:47:50.279+0800","caller":"autops/main.go:126","msg":"服务器已关闭"}
{"level":"INFO","ts":"2025-08-01T12:47:50.279+0800","caller":"database/db.go:90","msg":"数据库连接已关闭"}
{"level":"INFO","ts":"2025-08-01T12:47:53.707+0800","caller":"logger/logger.go:29","msg":"日志模块初始化成功","日志级别":"info","输出路径":"logs/"}
{"level":"INFO","ts":"2025-08-01T12:47:53.707+0800","caller":"autops/main.go:49","msg":"日志系统初始化成功"}
{"level":"INFO","ts":"2025-08-01T12:47:53.707+0800","caller":"database/db.go:19","msg":"开始初始化数据库连接"}
{"level":"INFO","ts":"2025-08-01T12:47:53.707+0800","caller":"database/db.go:40","msg":"正在连接数据库: root:123456@tcp(localhost:3306)/autops?charset=utf8mb4&parseTime=True&loc=Local"}
{"level":"INFO","ts":"2025-08-01T12:47:53.717+0800","caller":"database/db.go:49","msg":"数据库连接成功，正在设置连接池参数"}
{"level":"INFO","ts":"2025-08-01T12:47:53.717+0800","caller":"database/db.go:57","msg":"设置最大打开连接数为: 100"}
{"level":"INFO","ts":"2025-08-01T12:47:53.717+0800","caller":"database/db.go:59","msg":"设置最大空闲连接数为: 20"}
{"level":"INFO","ts":"2025-08-01T12:47:53.717+0800","caller":"database/db.go:61","msg":"设置连接最大生存时间为: 5m0s"}
{"level":"INFO","ts":"2025-08-01T12:47:53.785+0800","caller":"database/db.go:69","msg":"数据库连接成功"}
{"level":"INFO","ts":"2025-08-01T12:47:53.785+0800","caller":"autops/main.go:56","msg":"数据库连接成功"}
{"level":"INFO","ts":"2025-08-01T12:47:53.830+0800","caller":"database/init.go:172","msg":"角色和权限初始化成功"}
{"level":"INFO","ts":"2025-08-01T12:47:53.830+0800","caller":"database/admin_init.go:12","msg":"开始初始化管理员用户"}
{"level":"WARN","ts":"2025-08-01T12:47:53.830+0800","caller":"database/admin_init.go:18","msg":"管理员用户已存在"}
{"level":"WARN","ts":"2025-08-01T12:47:53.830+0800","caller":"database/admin_init.go:57","msg":"管理员用户已拥有admin角色，跳过分配"}
{"level":"INFO","ts":"2025-08-01T12:47:53.846+0800","caller":"database/casbin_sync.go:59","msg":"Casbin策略同步成功","user_role_count":2,"role_permission_count":23}
{"level":"INFO","ts":"2025-08-01T12:47:53.846+0800","caller":"autops/main.go:68","msg":"Casbin权限控制和角色权限初始化成功"}
{"level":"INFO","ts":"2025-08-01T12:47:53.846+0800","caller":"autops/main.go:108","msg":"服务器启动成功，监听端口: 8888"}
{"level":"INFO","ts":"2025-08-01T12:48:12.815+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"INFO","ts":"2025-08-01T12:48:12.816+0800","caller":"middleware/jwt.go:73","msg":"JWT认证成功","username":"admin","userID":"1"}
{"level":"INFO","ts":"2025-08-01T12:48:12.816+0800","caller":"middleware/casbin.go:28","msg":"开始权限检查","username":"admin"}
{"level":"INFO","ts":"2025-08-01T12:48:12.818+0800","caller":"middleware/casbin.go:40","msg":"查询用户成功","username":"admin","userID":1}
{"level":"INFO","ts":"2025-08-01T12:48:12.820+0800","caller":"middleware/casbin.go:56","msg":"获取用户角色成功","username":"admin","roles":["admin"]}
{"level":"INFO","ts":"2025-08-01T12:48:12.820+0800","caller":"middleware/casbin.go:61","msg":"请求信息","path":"/api/v1/roles","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T12:48:12.820+0800","caller":"middleware/casbin.go:75","msg":"角色权限不足","role":"admin","path":"/api/v1/roles","method":"PUT"}
{"level":"WARN","ts":"2025-08-01T12:48:12.820+0800","caller":"middleware/casbin.go:84","msg":"没有操作权限","username":"admin","path":"/api/v1/roles","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T12:48:58.018+0800","caller":"autops/main.go:118","msg":"正在关闭服务器..."}
{"level":"INFO","ts":"2025-08-01T12:48:58.019+0800","caller":"autops/main.go:126","msg":"服务器已关闭"}
{"level":"INFO","ts":"2025-08-01T12:48:58.019+0800","caller":"database/db.go:90","msg":"数据库连接已关闭"}
{"level":"INFO","ts":"2025-08-01T12:49:00.861+0800","caller":"logger/logger.go:29","msg":"日志模块初始化成功","日志级别":"info","输出路径":"logs/"}
{"level":"INFO","ts":"2025-08-01T12:49:00.861+0800","caller":"autops/main.go:49","msg":"日志系统初始化成功"}
{"level":"INFO","ts":"2025-08-01T12:49:00.861+0800","caller":"database/db.go:19","msg":"开始初始化数据库连接"}
{"level":"INFO","ts":"2025-08-01T12:49:00.861+0800","caller":"database/db.go:40","msg":"正在连接数据库: root:123456@tcp(localhost:3306)/autops?charset=utf8mb4&parseTime=True&loc=Local"}
{"level":"INFO","ts":"2025-08-01T12:49:00.866+0800","caller":"database/db.go:49","msg":"数据库连接成功，正在设置连接池参数"}
{"level":"INFO","ts":"2025-08-01T12:49:00.866+0800","caller":"database/db.go:57","msg":"设置最大打开连接数为: 100"}
{"level":"INFO","ts":"2025-08-01T12:49:00.866+0800","caller":"database/db.go:59","msg":"设置最大空闲连接数为: 20"}
{"level":"INFO","ts":"2025-08-01T12:49:00.866+0800","caller":"database/db.go:61","msg":"设置连接最大生存时间为: 5m0s"}
{"level":"INFO","ts":"2025-08-01T12:49:00.916+0800","caller":"database/db.go:69","msg":"数据库连接成功"}
{"level":"INFO","ts":"2025-08-01T12:49:00.916+0800","caller":"autops/main.go:56","msg":"数据库连接成功"}
{"level":"INFO","ts":"2025-08-01T12:49:00.963+0800","caller":"database/init.go:173","msg":"角色和权限初始化成功"}
{"level":"INFO","ts":"2025-08-01T12:49:00.963+0800","caller":"database/admin_init.go:12","msg":"开始初始化管理员用户"}
{"level":"WARN","ts":"2025-08-01T12:49:00.963+0800","caller":"database/admin_init.go:18","msg":"管理员用户已存在"}
{"level":"WARN","ts":"2025-08-01T12:49:00.963+0800","caller":"database/admin_init.go:57","msg":"管理员用户已拥有admin角色，跳过分配"}
{"level":"INFO","ts":"2025-08-01T12:49:00.980+0800","caller":"database/casbin_sync.go:59","msg":"Casbin策略同步成功","user_role_count":2,"role_permission_count":24}
{"level":"INFO","ts":"2025-08-01T12:49:00.980+0800","caller":"autops/main.go:68","msg":"Casbin权限控制和角色权限初始化成功"}
{"level":"INFO","ts":"2025-08-01T12:49:00.980+0800","caller":"autops/main.go:108","msg":"服务器启动成功，监听端口: 8888"}
{"level":"INFO","ts":"2025-08-01T12:49:07.417+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"INFO","ts":"2025-08-01T12:49:07.417+0800","caller":"middleware/jwt.go:73","msg":"JWT认证成功","username":"admin","userID":"1"}
{"level":"INFO","ts":"2025-08-01T12:49:07.418+0800","caller":"middleware/casbin.go:28","msg":"开始权限检查","username":"admin"}
{"level":"INFO","ts":"2025-08-01T12:49:07.418+0800","caller":"middleware/casbin.go:40","msg":"查询用户成功","username":"admin","userID":1}
{"level":"INFO","ts":"2025-08-01T12:49:07.419+0800","caller":"middleware/casbin.go:56","msg":"获取用户角色成功","username":"admin","roles":["admin"]}
{"level":"INFO","ts":"2025-08-01T12:49:07.419+0800","caller":"middleware/casbin.go:61","msg":"请求信息","path":"/api/v1/roles","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T12:49:07.419+0800","caller":"middleware/casbin.go:72","msg":"权限检查通过","role":"admin","path":"/api/v1/roles","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T12:49:07.419+0800","caller":"middleware/casbin.go:90","msg":"权限检查通过","username":"admin","path":"/api/v1/roles","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T12:49:24.008+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"INFO","ts":"2025-08-01T12:49:24.009+0800","caller":"middleware/jwt.go:73","msg":"JWT认证成功","username":"admin","userID":"1"}
{"level":"INFO","ts":"2025-08-01T12:49:24.010+0800","caller":"middleware/casbin.go:28","msg":"开始权限检查","username":"admin"}
{"level":"INFO","ts":"2025-08-01T12:49:24.011+0800","caller":"middleware/casbin.go:40","msg":"查询用户成功","username":"admin","userID":1}
{"level":"INFO","ts":"2025-08-01T12:49:24.012+0800","caller":"middleware/casbin.go:56","msg":"获取用户角色成功","username":"admin","roles":["admin"]}
{"level":"INFO","ts":"2025-08-01T12:49:24.012+0800","caller":"middleware/casbin.go:61","msg":"请求信息","path":"/api/v1/roles","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T12:49:24.012+0800","caller":"middleware/casbin.go:72","msg":"权限检查通过","role":"admin","path":"/api/v1/roles","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T12:49:24.012+0800","caller":"middleware/casbin.go:90","msg":"权限检查通过","username":"admin","path":"/api/v1/roles","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T12:50:04.588+0800","caller":"autops/main.go:118","msg":"正在关闭服务器..."}
{"level":"INFO","ts":"2025-08-01T12:50:04.589+0800","caller":"autops/main.go:126","msg":"服务器已关闭"}
{"level":"INFO","ts":"2025-08-01T12:50:04.589+0800","caller":"database/db.go:90","msg":"数据库连接已关闭"}
{"level":"INFO","ts":"2025-08-01T12:53:04.490+0800","caller":"logger/logger.go:29","msg":"日志模块初始化成功","日志级别":"info","输出路径":"logs/"}
{"level":"INFO","ts":"2025-08-01T12:53:04.490+0800","caller":"autops/main.go:49","msg":"日志系统初始化成功"}
{"level":"INFO","ts":"2025-08-01T12:53:04.490+0800","caller":"database/db.go:19","msg":"开始初始化数据库连接"}
{"level":"INFO","ts":"2025-08-01T12:53:04.490+0800","caller":"database/db.go:40","msg":"正在连接数据库: root:123456@tcp(localhost:3306)/autops?charset=utf8mb4&parseTime=True&loc=Local"}
{"level":"INFO","ts":"2025-08-01T12:53:04.498+0800","caller":"database/db.go:49","msg":"数据库连接成功，正在设置连接池参数"}
{"level":"INFO","ts":"2025-08-01T12:53:04.498+0800","caller":"database/db.go:57","msg":"设置最大打开连接数为: 100"}
{"level":"INFO","ts":"2025-08-01T12:53:04.498+0800","caller":"database/db.go:59","msg":"设置最大空闲连接数为: 20"}
{"level":"INFO","ts":"2025-08-01T12:53:04.498+0800","caller":"database/db.go:61","msg":"设置连接最大生存时间为: 5m0s"}
{"level":"INFO","ts":"2025-08-01T12:53:04.562+0800","caller":"database/db.go:69","msg":"数据库连接成功"}
{"level":"INFO","ts":"2025-08-01T12:53:04.562+0800","caller":"autops/main.go:56","msg":"数据库连接成功"}
{"level":"INFO","ts":"2025-08-01T12:53:04.609+0800","caller":"database/init.go:172","msg":"角色和权限初始化成功"}
{"level":"INFO","ts":"2025-08-01T12:53:04.609+0800","caller":"database/admin_init.go:12","msg":"开始初始化管理员用户"}
{"level":"WARN","ts":"2025-08-01T12:53:04.610+0800","caller":"database/admin_init.go:18","msg":"管理员用户已存在"}
{"level":"WARN","ts":"2025-08-01T12:53:04.610+0800","caller":"database/admin_init.go:57","msg":"管理员用户已拥有admin角色，跳过分配"}
{"level":"INFO","ts":"2025-08-01T12:53:04.627+0800","caller":"database/casbin_sync.go:59","msg":"Casbin策略同步成功","user_role_count":2,"role_permission_count":24}
{"level":"INFO","ts":"2025-08-01T12:53:04.627+0800","caller":"autops/main.go:68","msg":"Casbin权限控制和角色权限初始化成功"}
{"level":"INFO","ts":"2025-08-01T12:53:04.628+0800","caller":"autops/main.go:108","msg":"服务器启动成功，监听端口: 8888"}
{"level":"INFO","ts":"2025-08-01T12:53:33.220+0800","caller":"autops/main.go:118","msg":"正在关闭服务器..."}
{"level":"INFO","ts":"2025-08-01T12:53:33.220+0800","caller":"autops/main.go:126","msg":"服务器已关闭"}
{"level":"INFO","ts":"2025-08-01T12:53:33.220+0800","caller":"database/db.go:90","msg":"数据库连接已关闭"}
{"level":"INFO","ts":"2025-08-01T12:53:35.648+0800","caller":"logger/logger.go:29","msg":"日志模块初始化成功","日志级别":"info","输出路径":"logs/"}
{"level":"INFO","ts":"2025-08-01T12:53:35.648+0800","caller":"autops/main.go:49","msg":"日志系统初始化成功"}
{"level":"INFO","ts":"2025-08-01T12:53:35.648+0800","caller":"database/db.go:19","msg":"开始初始化数据库连接"}
{"level":"INFO","ts":"2025-08-01T12:53:35.648+0800","caller":"database/db.go:40","msg":"正在连接数据库: root:123456@tcp(localhost:3306)/autops?charset=utf8mb4&parseTime=True&loc=Local"}
{"level":"INFO","ts":"2025-08-01T12:53:35.653+0800","caller":"database/db.go:49","msg":"数据库连接成功，正在设置连接池参数"}
{"level":"INFO","ts":"2025-08-01T12:53:35.654+0800","caller":"database/db.go:57","msg":"设置最大打开连接数为: 100"}
{"level":"INFO","ts":"2025-08-01T12:53:35.654+0800","caller":"database/db.go:59","msg":"设置最大空闲连接数为: 20"}
{"level":"INFO","ts":"2025-08-01T12:53:35.654+0800","caller":"database/db.go:61","msg":"设置连接最大生存时间为: 5m0s"}
{"level":"INFO","ts":"2025-08-01T12:53:35.709+0800","caller":"database/db.go:69","msg":"数据库连接成功"}
{"level":"INFO","ts":"2025-08-01T12:53:35.709+0800","caller":"autops/main.go:56","msg":"数据库连接成功"}
{"level":"INFO","ts":"2025-08-01T12:53:35.753+0800","caller":"database/init.go:172","msg":"角色和权限初始化成功"}
{"level":"INFO","ts":"2025-08-01T12:53:35.753+0800","caller":"database/admin_init.go:12","msg":"开始初始化管理员用户"}
{"level":"WARN","ts":"2025-08-01T12:53:35.753+0800","caller":"database/admin_init.go:18","msg":"管理员用户已存在"}
{"level":"WARN","ts":"2025-08-01T12:53:35.753+0800","caller":"database/admin_init.go:57","msg":"管理员用户已拥有admin角色，跳过分配"}
{"level":"INFO","ts":"2025-08-01T12:53:35.767+0800","caller":"database/casbin_sync.go:59","msg":"Casbin策略同步成功","user_role_count":2,"role_permission_count":24}
{"level":"INFO","ts":"2025-08-01T12:53:35.767+0800","caller":"autops/main.go:68","msg":"Casbin权限控制和角色权限初始化成功"}
{"level":"INFO","ts":"2025-08-01T12:53:35.767+0800","caller":"autops/main.go:108","msg":"服务器启动成功，监听端口: 8888"}
{"level":"INFO","ts":"2025-08-01T12:53:41.038+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"INFO","ts":"2025-08-01T12:53:41.039+0800","caller":"middleware/jwt.go:73","msg":"JWT认证成功","username":"admin","userID":"1"}
{"level":"INFO","ts":"2025-08-01T12:53:41.039+0800","caller":"middleware/casbin.go:28","msg":"开始权限检查","username":"admin"}
{"level":"INFO","ts":"2025-08-01T12:53:41.040+0800","caller":"middleware/casbin.go:40","msg":"查询用户成功","username":"admin","userID":1}
{"level":"INFO","ts":"2025-08-01T12:53:41.040+0800","caller":"middleware/casbin.go:56","msg":"获取用户角色成功","username":"admin","roles":["admin"]}
{"level":"INFO","ts":"2025-08-01T12:53:41.040+0800","caller":"middleware/casbin.go:61","msg":"请求信息","path":"/api/v1/roles","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T12:53:41.040+0800","caller":"middleware/casbin.go:72","msg":"权限检查通过","role":"admin","path":"/api/v1/roles","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T12:53:41.040+0800","caller":"middleware/casbin.go:90","msg":"权限检查通过","username":"admin","path":"/api/v1/roles","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T12:55:53.327+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"INFO","ts":"2025-08-01T12:55:53.329+0800","caller":"middleware/jwt.go:73","msg":"JWT认证成功","username":"admin","userID":"1"}
{"level":"INFO","ts":"2025-08-01T12:55:53.329+0800","caller":"middleware/casbin.go:28","msg":"开始权限检查","username":"admin"}
{"level":"INFO","ts":"2025-08-01T12:55:53.331+0800","caller":"middleware/casbin.go:40","msg":"查询用户成功","username":"admin","userID":1}
{"level":"INFO","ts":"2025-08-01T12:55:53.333+0800","caller":"middleware/casbin.go:56","msg":"获取用户角色成功","username":"admin","roles":["admin"]}
{"level":"INFO","ts":"2025-08-01T12:55:53.333+0800","caller":"middleware/casbin.go:61","msg":"请求信息","path":"/api/v1/roles/3","method":"DELETE"}
{"level":"INFO","ts":"2025-08-01T12:55:53.333+0800","caller":"middleware/casbin.go:72","msg":"权限检查通过","role":"admin","path":"/api/v1/roles/3","method":"DELETE"}
{"level":"INFO","ts":"2025-08-01T12:55:53.333+0800","caller":"middleware/casbin.go:90","msg":"权限检查通过","username":"admin","path":"/api/v1/roles/3","method":"DELETE"}
{"level":"INFO","ts":"2025-08-01T12:55:53.369+0800","caller":"database/casbin_sync.go:59","msg":"Casbin策略同步成功","user_role_count":2,"role_permission_count":24}
{"level":"INFO","ts":"2025-08-01T12:58:22.383+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"INFO","ts":"2025-08-01T12:58:22.385+0800","caller":"middleware/jwt.go:73","msg":"JWT认证成功","username":"admin","userID":"1"}
{"level":"INFO","ts":"2025-08-01T12:58:22.385+0800","caller":"middleware/casbin.go:28","msg":"开始权限检查","username":"admin"}
{"level":"INFO","ts":"2025-08-01T12:58:22.386+0800","caller":"middleware/casbin.go:40","msg":"查询用户成功","username":"admin","userID":1}
{"level":"INFO","ts":"2025-08-01T12:58:22.387+0800","caller":"middleware/casbin.go:56","msg":"获取用户角色成功","username":"admin","roles":["admin"]}
{"level":"INFO","ts":"2025-08-01T12:58:22.387+0800","caller":"middleware/casbin.go:61","msg":"请求信息","path":"/api/v1/permissions/policy","method":"POST"}
{"level":"INFO","ts":"2025-08-01T12:58:22.387+0800","caller":"middleware/casbin.go:72","msg":"权限检查通过","role":"admin","path":"/api/v1/permissions/policy","method":"POST"}
{"level":"INFO","ts":"2025-08-01T12:58:22.387+0800","caller":"middleware/casbin.go:90","msg":"权限检查通过","username":"admin","path":"/api/v1/permissions/policy","method":"POST"}
{"level":"INFO","ts":"2025-08-01T12:58:22.387+0800","caller":"controllers/permission_controller.go:56","msg":"开始添加权限策略","role":"user","path":"/api/v1/users/*","method":"POST"}
{"level":"INFO","ts":"2025-08-01T12:58:22.388+0800","caller":"controllers/permission_controller.go:73","msg":"权限不存在，将创建新权限","path":"/api/v1/users/*","method":"POST"}
{"level":"INFO","ts":"2025-08-01T12:58:22.393+0800","caller":"controllers/permission_controller.go:90","msg":"创建权限成功","permissionID":23,"path":"/api/v1/users/*","method":"POST"}
{"level":"INFO","ts":"2025-08-01T12:58:22.393+0800","caller":"controllers/permission_controller.go:100","msg":"查询角色成功","roleID":2,"roleName":"user"}
{"level":"INFO","ts":"2025-08-01T12:58:22.394+0800","caller":"controllers/permission_controller.go:111","msg":"角色权限关联不存在，将创建新关联","roleID":2,"permissionID":23}
{"level":"INFO","ts":"2025-08-01T12:58:22.395+0800","caller":"controllers/permission_controller.go:132","msg":"创建角色权限关联成功","roleID":2,"permissionID":23}
{"level":"INFO","ts":"2025-08-01T12:58:22.395+0800","caller":"controllers/permission_controller.go:135","msg":"开始同步权限策略到casbin","role":"user","path":"/api/v1/users/*","method":"POST"}
{"level":"INFO","ts":"2025-08-01T12:58:22.396+0800","caller":"controllers/permission_controller.go:147","msg":"添加权限策略到casbin成功","role":"user","path":"/api/v1/users/*","method":"POST"}
{"level":"INFO","ts":"2025-08-01T12:58:22.410+0800","caller":"controllers/permission_controller.go:155","msg":"保存权限策略成功"}
{"level":"INFO","ts":"2025-08-01T12:58:22.410+0800","caller":"controllers/permission_controller.go:157","msg":"添加权限策略操作完成","role":"user","path":"/api/v1/users/*","method":"POST"}
{"level":"INFO","ts":"2025-08-01T12:59:03.170+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"INFO","ts":"2025-08-01T12:59:03.171+0800","caller":"middleware/jwt.go:73","msg":"JWT认证成功","username":"admin","userID":"1"}
{"level":"INFO","ts":"2025-08-01T12:59:03.171+0800","caller":"middleware/casbin.go:28","msg":"开始权限检查","username":"admin"}
{"level":"INFO","ts":"2025-08-01T12:59:03.176+0800","caller":"middleware/casbin.go:40","msg":"查询用户成功","username":"admin","userID":1}
{"level":"INFO","ts":"2025-08-01T12:59:03.177+0800","caller":"middleware/casbin.go:56","msg":"获取用户角色成功","username":"admin","roles":["admin"]}
{"level":"INFO","ts":"2025-08-01T12:59:03.177+0800","caller":"middleware/casbin.go:61","msg":"请求信息","path":"/api/v1/permissions/policy","method":"DELETE"}
{"level":"INFO","ts":"2025-08-01T12:59:03.177+0800","caller":"middleware/casbin.go:72","msg":"权限检查通过","role":"admin","path":"/api/v1/permissions/policy","method":"DELETE"}
{"level":"INFO","ts":"2025-08-01T12:59:03.177+0800","caller":"middleware/casbin.go:90","msg":"权限检查通过","username":"admin","path":"/api/v1/permissions/policy","method":"DELETE"}
{"level":"INFO","ts":"2025-08-01T12:59:03.177+0800","caller":"controllers/permission_controller.go:187","msg":"开始删除权限策略","role":"user","path":"/api/v1/users/*","method":"POST"}
{"level":"INFO","ts":"2025-08-01T12:59:03.178+0800","caller":"controllers/permission_controller.go:200","msg":"查询权限成功","permissionID":23,"path":"/api/v1/users/*","method":"POST"}
{"level":"INFO","ts":"2025-08-01T12:59:03.178+0800","caller":"controllers/permission_controller.go:209","msg":"查询角色成功","roleID":2,"roleName":"user"}
{"level":"INFO","ts":"2025-08-01T12:59:03.180+0800","caller":"controllers/permission_controller.go:217","msg":"删除角色权限关联成功","roleID":2,"permissionID":23}
{"level":"INFO","ts":"2025-08-01T12:59:03.180+0800","caller":"controllers/permission_controller.go:222","msg":"检查权限关联角色数量","count":0,"permissionID":23}
{"level":"INFO","ts":"2025-08-01T12:59:03.180+0800","caller":"controllers/permission_controller.go:224","msg":"权限无关联角色，将删除权限","permissionID":23}
{"level":"INFO","ts":"2025-08-01T12:59:03.182+0800","caller":"controllers/permission_controller.go:230","msg":"删除权限成功","permissionID":23}
{"level":"INFO","ts":"2025-08-01T12:59:03.182+0800","caller":"controllers/permission_controller.go:236","msg":"开始从casbin删除权限策略","role":"user","path":"/api/v1/users/*","method":"POST"}
{"level":"INFO","ts":"2025-08-01T12:59:03.183+0800","caller":"controllers/permission_controller.go:248","msg":"从casbin删除权限策略成功","role":"user","path":"/api/v1/users/*","method":"POST"}
{"level":"INFO","ts":"2025-08-01T12:59:03.200+0800","caller":"controllers/permission_controller.go:256","msg":"保存权限策略成功"}
{"level":"INFO","ts":"2025-08-01T12:59:03.200+0800","caller":"controllers/permission_controller.go:258","msg":"删除权限策略操作完成","role":"user","path":"/api/v1/users/*","method":"POST"}
{"level":"INFO","ts":"2025-08-01T12:59:43.593+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"INFO","ts":"2025-08-01T12:59:43.594+0800","caller":"middleware/jwt.go:73","msg":"JWT认证成功","username":"admin","userID":"1"}
{"level":"INFO","ts":"2025-08-01T12:59:43.595+0800","caller":"middleware/casbin.go:28","msg":"开始权限检查","username":"admin"}
{"level":"INFO","ts":"2025-08-01T12:59:43.595+0800","caller":"middleware/casbin.go:40","msg":"查询用户成功","username":"admin","userID":1}
{"level":"INFO","ts":"2025-08-01T12:59:43.596+0800","caller":"middleware/casbin.go:56","msg":"获取用户角色成功","username":"admin","roles":["admin"]}
{"level":"INFO","ts":"2025-08-01T12:59:43.596+0800","caller":"middleware/casbin.go:61","msg":"请求信息","path":"/api/v1/permissions/policy","method":"DELETE"}
{"level":"INFO","ts":"2025-08-01T12:59:43.596+0800","caller":"middleware/casbin.go:72","msg":"权限检查通过","role":"admin","path":"/api/v1/permissions/policy","method":"DELETE"}
{"level":"INFO","ts":"2025-08-01T12:59:43.596+0800","caller":"middleware/casbin.go:90","msg":"权限检查通过","username":"admin","path":"/api/v1/permissions/policy","method":"DELETE"}
{"level":"INFO","ts":"2025-08-01T12:59:43.596+0800","caller":"controllers/permission_controller.go:187","msg":"开始删除权限策略","role":"user","path":"/api/v1/users/*","method":"POST"}
{"level":"ERROR","ts":"2025-08-01T12:59:43.597+0800","caller":"controllers/permission_controller.go:196","msg":"查询权限失败","path":"/api/v1/users/*","method":"POST","error":"record not found"}
{"level":"INFO","ts":"2025-08-01T13:00:37.220+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"INFO","ts":"2025-08-01T13:00:37.221+0800","caller":"middleware/jwt.go:73","msg":"JWT认证成功","username":"admin","userID":"1"}
{"level":"INFO","ts":"2025-08-01T13:00:37.221+0800","caller":"middleware/casbin.go:28","msg":"开始权限检查","username":"admin"}
{"level":"INFO","ts":"2025-08-01T13:00:37.222+0800","caller":"middleware/casbin.go:40","msg":"查询用户成功","username":"admin","userID":1}
{"level":"INFO","ts":"2025-08-01T13:00:37.224+0800","caller":"middleware/casbin.go:56","msg":"获取用户角色成功","username":"admin","roles":["admin"]}
{"level":"INFO","ts":"2025-08-01T13:00:37.224+0800","caller":"middleware/casbin.go:61","msg":"请求信息","path":"/api/v1/permissions/policies","method":"GET"}
{"level":"INFO","ts":"2025-08-01T13:00:37.224+0800","caller":"middleware/casbin.go:72","msg":"权限检查通过","role":"admin","path":"/api/v1/permissions/policies","method":"GET"}
{"level":"INFO","ts":"2025-08-01T13:00:37.224+0800","caller":"middleware/casbin.go:90","msg":"权限检查通过","username":"admin","path":"/api/v1/permissions/policies","method":"GET"}
{"level":"INFO","ts":"2025-08-01T13:00:37.224+0800","caller":"controllers/permission_controller.go:280","msg":"正在获取所有权限策略"}
{"level":"INFO","ts":"2025-08-01T13:19:18.010+0800","caller":"autops/main.go:118","msg":"正在关闭服务器..."}
{"level":"INFO","ts":"2025-08-01T13:19:18.012+0800","caller":"autops/main.go:126","msg":"服务器已关闭"}
{"level":"INFO","ts":"2025-08-01T13:19:18.012+0800","caller":"database/db.go:90","msg":"数据库连接已关闭"}
{"level":"INFO","ts":"2025-08-01T13:19:21.531+0800","caller":"logger/logger.go:29","msg":"日志模块初始化成功","日志级别":"info","输出路径":"logs/"}
{"level":"INFO","ts":"2025-08-01T13:19:21.531+0800","caller":"autops/main.go:49","msg":"日志系统初始化成功"}
{"level":"INFO","ts":"2025-08-01T13:19:21.531+0800","caller":"database/db.go:19","msg":"开始初始化数据库连接"}
{"level":"INFO","ts":"2025-08-01T13:19:21.531+0800","caller":"database/db.go:40","msg":"正在连接数据库: root:123456@tcp(localhost:3306)/autops?charset=utf8mb4&parseTime=True&loc=Local"}
{"level":"INFO","ts":"2025-08-01T13:19:21.541+0800","caller":"database/db.go:49","msg":"数据库连接成功，正在设置连接池参数"}
{"level":"INFO","ts":"2025-08-01T13:19:21.541+0800","caller":"database/db.go:57","msg":"设置最大打开连接数为: 100"}
{"level":"INFO","ts":"2025-08-01T13:19:21.541+0800","caller":"database/db.go:59","msg":"设置最大空闲连接数为: 20"}
{"level":"INFO","ts":"2025-08-01T13:19:21.542+0800","caller":"database/db.go:61","msg":"设置连接最大生存时间为: 5m0s"}
{"level":"INFO","ts":"2025-08-01T13:19:21.597+0800","caller":"database/db.go:69","msg":"数据库连接成功"}
{"level":"INFO","ts":"2025-08-01T13:19:21.597+0800","caller":"autops/main.go:56","msg":"数据库连接成功"}
{"level":"INFO","ts":"2025-08-01T13:19:21.642+0800","caller":"database/init.go:172","msg":"角色和权限初始化成功"}
{"level":"INFO","ts":"2025-08-01T13:19:21.642+0800","caller":"database/admin_init.go:12","msg":"开始初始化管理员用户"}
{"level":"WARN","ts":"2025-08-01T13:19:21.643+0800","caller":"database/admin_init.go:18","msg":"管理员用户已存在"}
{"level":"WARN","ts":"2025-08-01T13:19:21.643+0800","caller":"database/admin_init.go:57","msg":"管理员用户已拥有admin角色，跳过分配"}
{"level":"INFO","ts":"2025-08-01T13:19:21.657+0800","caller":"database/casbin_sync.go:59","msg":"Casbin策略同步成功","user_role_count":2,"role_permission_count":24}
{"level":"INFO","ts":"2025-08-01T13:19:21.657+0800","caller":"autops/main.go:68","msg":"Casbin权限控制和角色权限初始化成功"}
{"level":"INFO","ts":"2025-08-01T13:19:21.657+0800","caller":"autops/main.go:108","msg":"服务器启动成功，监听端口: 8888"}
{"level":"INFO","ts":"2025-08-01T13:23:06.763+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"INFO","ts":"2025-08-01T13:23:06.763+0800","caller":"middleware/jwt.go:73","msg":"JWT认证成功","username":"admin","userID":"1"}
{"level":"INFO","ts":"2025-08-01T13:23:06.763+0800","caller":"middleware/casbin.go:28","msg":"开始权限检查","username":"admin"}
{"level":"INFO","ts":"2025-08-01T13:23:06.764+0800","caller":"middleware/casbin.go:40","msg":"查询用户成功","username":"admin","userID":1}
{"level":"INFO","ts":"2025-08-01T13:23:06.764+0800","caller":"middleware/casbin.go:56","msg":"获取用户角色成功","username":"admin","roles":["admin"]}
{"level":"INFO","ts":"2025-08-01T13:23:06.764+0800","caller":"middleware/casbin.go:61","msg":"请求信息","path":"/api/v1/users/1/password","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T13:23:06.765+0800","caller":"middleware/casbin.go:72","msg":"权限检查通过","role":"admin","path":"/api/v1/users/1/password","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T13:23:06.765+0800","caller":"middleware/casbin.go:90","msg":"权限检查通过","username":"admin","path":"/api/v1/users/1/password","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T13:36:54.855+0800","caller":"autops/main.go:118","msg":"正在关闭服务器..."}
{"level":"INFO","ts":"2025-08-01T13:36:54.856+0800","caller":"autops/main.go:126","msg":"服务器已关闭"}
{"level":"INFO","ts":"2025-08-01T13:36:54.856+0800","caller":"database/db.go:90","msg":"数据库连接已关闭"}
{"level":"INFO","ts":"2025-08-01T13:36:57.905+0800","caller":"logger/logger.go:29","msg":"日志模块初始化成功","日志级别":"info","输出路径":"logs/"}
{"level":"INFO","ts":"2025-08-01T13:36:57.905+0800","caller":"autops/main.go:49","msg":"日志系统初始化成功"}
{"level":"INFO","ts":"2025-08-01T13:36:57.905+0800","caller":"database/db.go:19","msg":"开始初始化数据库连接"}
{"level":"INFO","ts":"2025-08-01T13:36:57.905+0800","caller":"database/db.go:40","msg":"正在连接数据库: root:123456@tcp(localhost:3306)/autops?charset=utf8mb4&parseTime=True&loc=Local"}
{"level":"INFO","ts":"2025-08-01T13:36:57.912+0800","caller":"database/db.go:49","msg":"数据库连接成功，正在设置连接池参数"}
{"level":"INFO","ts":"2025-08-01T13:36:57.912+0800","caller":"database/db.go:57","msg":"设置最大打开连接数为: 100"}
{"level":"INFO","ts":"2025-08-01T13:36:57.912+0800","caller":"database/db.go:59","msg":"设置最大空闲连接数为: 20"}
{"level":"INFO","ts":"2025-08-01T13:36:57.912+0800","caller":"database/db.go:61","msg":"设置连接最大生存时间为: 5m0s"}
{"level":"INFO","ts":"2025-08-01T13:36:57.961+0800","caller":"database/db.go:69","msg":"数据库连接成功"}
{"level":"INFO","ts":"2025-08-01T13:36:57.961+0800","caller":"autops/main.go:56","msg":"数据库连接成功"}
{"level":"INFO","ts":"2025-08-01T13:36:58.079+0800","caller":"database/init.go:172","msg":"角色和权限初始化成功"}
{"level":"INFO","ts":"2025-08-01T13:36:58.079+0800","caller":"database/admin_init.go:12","msg":"开始初始化管理员用户"}
{"level":"WARN","ts":"2025-08-01T13:36:58.080+0800","caller":"database/admin_init.go:18","msg":"管理员用户已存在"}
{"level":"WARN","ts":"2025-08-01T13:36:58.080+0800","caller":"database/admin_init.go:57","msg":"管理员用户已拥有admin角色，跳过分配"}
{"level":"INFO","ts":"2025-08-01T13:36:58.098+0800","caller":"database/casbin_sync.go:59","msg":"Casbin策略同步成功","user_role_count":2,"role_permission_count":24}
{"level":"INFO","ts":"2025-08-01T13:36:58.098+0800","caller":"autops/main.go:68","msg":"Casbin权限控制和角色权限初始化成功"}
{"level":"INFO","ts":"2025-08-01T13:36:58.099+0800","caller":"autops/main.go:108","msg":"服务器启动成功，监听端口: 8888"}
{"level":"INFO","ts":"2025-08-01T13:53:28.332+0800","caller":"autops/main.go:118","msg":"正在关闭服务器..."}
{"level":"INFO","ts":"2025-08-01T13:53:28.334+0800","caller":"autops/main.go:126","msg":"服务器已关闭"}
{"level":"INFO","ts":"2025-08-01T13:53:28.334+0800","caller":"database/db.go:90","msg":"数据库连接已关闭"}
{"level":"INFO","ts":"2025-08-01T13:57:34.759+0800","caller":"logger/logger.go:29","msg":"日志模块初始化成功","日志级别":"info","输出路径":"logs/"}
{"level":"INFO","ts":"2025-08-01T13:57:34.760+0800","caller":"autops/main.go:49","msg":"日志系统初始化成功"}
{"level":"INFO","ts":"2025-08-01T13:57:34.760+0800","caller":"database/db.go:19","msg":"开始初始化数据库连接"}
{"level":"INFO","ts":"2025-08-01T13:57:34.760+0800","caller":"database/db.go:40","msg":"正在连接数据库: root:123456@tcp(localhost:3306)/autops?charset=utf8mb4&parseTime=True&loc=Local"}
{"level":"INFO","ts":"2025-08-01T13:57:34.766+0800","caller":"database/db.go:49","msg":"数据库连接成功，正在设置连接池参数"}
{"level":"INFO","ts":"2025-08-01T13:57:34.766+0800","caller":"database/db.go:57","msg":"设置最大打开连接数为: 100"}
{"level":"INFO","ts":"2025-08-01T13:57:34.766+0800","caller":"database/db.go:59","msg":"设置最大空闲连接数为: 20"}
{"level":"INFO","ts":"2025-08-01T13:57:34.766+0800","caller":"database/db.go:61","msg":"设置连接最大生存时间为: 5m0s"}
{"level":"INFO","ts":"2025-08-01T13:57:34.809+0800","caller":"database/db.go:69","msg":"数据库连接成功"}
{"level":"INFO","ts":"2025-08-01T13:57:34.809+0800","caller":"autops/main.go:56","msg":"数据库连接成功"}
{"level":"INFO","ts":"2025-08-01T13:57:34.872+0800","caller":"database/init.go:173","msg":"角色和权限初始化成功"}
{"level":"INFO","ts":"2025-08-01T13:57:34.872+0800","caller":"database/admin_init.go:12","msg":"开始初始化管理员用户"}
{"level":"INFO","ts":"2025-08-01T13:57:34.936+0800","caller":"database/admin_init.go:43","msg":"管理员用户创建成功","userID":1}
{"level":"INFO","ts":"2025-08-01T13:57:34.938+0800","caller":"database/admin_init.go:64","msg":"为管理员用户分配角色成功"}
{"level":"INFO","ts":"2025-08-01T13:57:34.953+0800","caller":"database/casbin_sync.go:59","msg":"Casbin策略同步成功","user_role_count":1,"role_permission_count":15}
{"level":"INFO","ts":"2025-08-01T13:57:34.953+0800","caller":"autops/main.go:68","msg":"Casbin权限控制和角色权限初始化成功"}
{"level":"INFO","ts":"2025-08-01T13:57:34.953+0800","caller":"autops/main.go:108","msg":"服务器启动成功，监听端口: 8888"}
{"level":"INFO","ts":"2025-08-01T13:58:29.471+0800","caller":"controllers/user_controller.go:97","msg":"开始用户登录操作"}
{"level":"INFO","ts":"2025-08-01T13:58:29.473+0800","caller":"controllers/user_controller.go:105","msg":"用户登录参数验证通过","username":"admin"}
{"level":"INFO","ts":"2025-08-01T13:58:29.540+0800","caller":"middleware/jwt.go:81","msg":"开始生成JWT令牌","username":"admin","userID":"1"}
{"level":"INFO","ts":"2025-08-01T13:58:29.541+0800","caller":"middleware/jwt.go:85","msg":"JWT令牌过期时间","expirationTime":"2025-08-02T13:58:29.541+0800"}
{"level":"INFO","ts":"2025-08-01T13:58:29.541+0800","caller":"middleware/jwt.go:109","msg":"生成JWT令牌成功","username":"admin"}
{"level":"INFO","ts":"2025-08-01T13:58:29.541+0800","caller":"controllers/user_controller.go:127","msg":"用户登录成功","userID":1,"username":"admin"}
{"level":"INFO","ts":"2025-08-01T13:58:39.986+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"INFO","ts":"2025-08-01T13:58:39.986+0800","caller":"middleware/jwt.go:73","msg":"JWT认证成功","username":"admin","userID":"1"}
{"level":"INFO","ts":"2025-08-01T13:58:39.986+0800","caller":"middleware/casbin.go:28","msg":"开始权限检查","username":"admin"}
{"level":"INFO","ts":"2025-08-01T13:58:39.987+0800","caller":"middleware/casbin.go:40","msg":"查询用户成功","username":"admin","userID":1}
{"level":"INFO","ts":"2025-08-01T13:58:39.988+0800","caller":"middleware/casbin.go:56","msg":"获取用户角色成功","username":"admin","roles":["admin"]}
{"level":"INFO","ts":"2025-08-01T13:58:39.988+0800","caller":"middleware/casbin.go:61","msg":"请求信息","path":"/api/v1/users/1/password","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T13:58:39.988+0800","caller":"middleware/casbin.go:72","msg":"权限检查通过","role":"admin","path":"/api/v1/users/1/password","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T13:58:39.988+0800","caller":"middleware/casbin.go:90","msg":"权限检查通过","username":"admin","path":"/api/v1/users/1/password","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T13:58:39.988+0800","caller":"controllers/user_controller.go:403","msg":"开始修改用户密码操作"}
{"level":"INFO","ts":"2025-08-01T13:58:39.988+0800","caller":"controllers/user_controller.go:413","msg":"用户ID参数验证通过","id":1}
{"level":"INFO","ts":"2025-08-01T13:58:39.988+0800","caller":"controllers/user_controller.go:422","msg":"密码修改参数验证通过"}
{"level":"INFO","ts":"2025-08-01T13:58:39.989+0800","caller":"controllers/user_controller.go:432","msg":"开始验证旧密码"}
{"level":"INFO","ts":"2025-08-01T13:58:40.054+0800","caller":"controllers/user_controller.go:439","msg":"旧密码验证通过","userID":1}
{"level":"INFO","ts":"2025-08-01T13:58:40.054+0800","caller":"controllers/user_controller.go:442","msg":"开始更新密码"}
{"level":"INFO","ts":"2025-08-01T13:58:40.124+0800","caller":"controllers/user_controller.go:449","msg":"密码更新成功","userID":1}
{"level":"INFO","ts":"2025-08-01T13:58:46.247+0800","caller":"controllers/user_controller.go:97","msg":"开始用户登录操作"}
{"level":"INFO","ts":"2025-08-01T13:58:46.247+0800","caller":"controllers/user_controller.go:105","msg":"用户登录参数验证通过","username":"admin"}
{"level":"INFO","ts":"2025-08-01T13:58:52.434+0800","caller":"controllers/user_controller.go:97","msg":"开始用户登录操作"}
{"level":"INFO","ts":"2025-08-01T13:58:52.434+0800","caller":"controllers/user_controller.go:105","msg":"用户登录参数验证通过","username":"admin"}
{"level":"INFO","ts":"2025-08-01T13:58:52.506+0800","caller":"middleware/jwt.go:81","msg":"开始生成JWT令牌","username":"admin","userID":"1"}
{"level":"INFO","ts":"2025-08-01T13:58:52.506+0800","caller":"middleware/jwt.go:85","msg":"JWT令牌过期时间","expirationTime":"2025-08-02T13:58:52.506+0800"}
{"level":"INFO","ts":"2025-08-01T13:58:52.506+0800","caller":"middleware/jwt.go:109","msg":"生成JWT令牌成功","username":"admin"}
{"level":"INFO","ts":"2025-08-01T13:58:52.506+0800","caller":"controllers/user_controller.go:127","msg":"用户登录成功","userID":1,"username":"admin"}
{"level":"INFO","ts":"2025-08-01T13:59:02.730+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"INFO","ts":"2025-08-01T13:59:02.731+0800","caller":"middleware/jwt.go:73","msg":"JWT认证成功","username":"admin","userID":"1"}
{"level":"INFO","ts":"2025-08-01T13:59:02.732+0800","caller":"middleware/casbin.go:28","msg":"开始权限检查","username":"admin"}
{"level":"INFO","ts":"2025-08-01T13:59:02.732+0800","caller":"middleware/casbin.go:40","msg":"查询用户成功","username":"admin","userID":1}
{"level":"INFO","ts":"2025-08-01T13:59:02.733+0800","caller":"middleware/casbin.go:56","msg":"获取用户角色成功","username":"admin","roles":["admin"]}
{"level":"INFO","ts":"2025-08-01T13:59:02.733+0800","caller":"middleware/casbin.go:61","msg":"请求信息","path":"/api/v1/users/1/password","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T13:59:02.733+0800","caller":"middleware/casbin.go:72","msg":"权限检查通过","role":"admin","path":"/api/v1/users/1/password","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T13:59:02.733+0800","caller":"middleware/casbin.go:90","msg":"权限检查通过","username":"admin","path":"/api/v1/users/1/password","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T13:59:02.733+0800","caller":"controllers/user_controller.go:403","msg":"开始修改用户密码操作"}
{"level":"INFO","ts":"2025-08-01T13:59:02.733+0800","caller":"controllers/user_controller.go:413","msg":"用户ID参数验证通过","id":1}
{"level":"INFO","ts":"2025-08-01T13:59:02.733+0800","caller":"controllers/user_controller.go:422","msg":"密码修改参数验证通过"}
{"level":"INFO","ts":"2025-08-01T13:59:02.735+0800","caller":"controllers/user_controller.go:432","msg":"开始验证旧密码"}
{"level":"INFO","ts":"2025-08-01T13:59:02.802+0800","caller":"controllers/user_controller.go:439","msg":"旧密码验证通过","userID":1}
{"level":"INFO","ts":"2025-08-01T13:59:02.802+0800","caller":"controllers/user_controller.go:442","msg":"开始更新密码"}
{"level":"INFO","ts":"2025-08-01T13:59:02.872+0800","caller":"controllers/user_controller.go:449","msg":"密码更新成功","userID":1}
{"level":"INFO","ts":"2025-08-01T13:59:07.098+0800","caller":"controllers/user_controller.go:97","msg":"开始用户登录操作"}
{"level":"INFO","ts":"2025-08-01T13:59:07.099+0800","caller":"controllers/user_controller.go:105","msg":"用户登录参数验证通过","username":"admin"}
{"level":"INFO","ts":"2025-08-01T13:59:07.170+0800","caller":"middleware/jwt.go:81","msg":"开始生成JWT令牌","username":"admin","userID":"1"}
{"level":"INFO","ts":"2025-08-01T13:59:07.170+0800","caller":"middleware/jwt.go:85","msg":"JWT令牌过期时间","expirationTime":"2025-08-02T13:59:07.170+0800"}
{"level":"INFO","ts":"2025-08-01T13:59:07.170+0800","caller":"middleware/jwt.go:109","msg":"生成JWT令牌成功","username":"admin"}
{"level":"INFO","ts":"2025-08-01T13:59:07.170+0800","caller":"controllers/user_controller.go:127","msg":"用户登录成功","userID":1,"username":"admin"}
{"level":"INFO","ts":"2025-08-01T13:59:37.789+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"INFO","ts":"2025-08-01T13:59:37.790+0800","caller":"middleware/jwt.go:73","msg":"JWT认证成功","username":"admin","userID":"1"}
{"level":"INFO","ts":"2025-08-01T13:59:37.791+0800","caller":"middleware/casbin.go:28","msg":"开始权限检查","username":"admin"}
{"level":"INFO","ts":"2025-08-01T13:59:37.792+0800","caller":"middleware/casbin.go:40","msg":"查询用户成功","username":"admin","userID":1}
{"level":"INFO","ts":"2025-08-01T13:59:37.792+0800","caller":"middleware/casbin.go:56","msg":"获取用户角色成功","username":"admin","roles":["admin"]}
{"level":"INFO","ts":"2025-08-01T13:59:37.792+0800","caller":"middleware/casbin.go:61","msg":"请求信息","path":"/api/v1/roles/","method":"POST"}
{"level":"INFO","ts":"2025-08-01T13:59:37.792+0800","caller":"middleware/casbin.go:72","msg":"权限检查通过","role":"admin","path":"/api/v1/roles/","method":"POST"}
{"level":"INFO","ts":"2025-08-01T13:59:37.792+0800","caller":"middleware/casbin.go:90","msg":"权限检查通过","username":"admin","path":"/api/v1/roles/","method":"POST"}
{"level":"INFO","ts":"2025-08-01T13:59:37.824+0800","caller":"database/casbin_sync.go:59","msg":"Casbin策略同步成功","user_role_count":1,"role_permission_count":15}
{"level":"INFO","ts":"2025-08-01T14:00:06.577+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"INFO","ts":"2025-08-01T14:00:06.577+0800","caller":"middleware/jwt.go:73","msg":"JWT认证成功","username":"admin","userID":"1"}
{"level":"INFO","ts":"2025-08-01T14:00:06.577+0800","caller":"middleware/casbin.go:28","msg":"开始权限检查","username":"admin"}
{"level":"INFO","ts":"2025-08-01T14:00:06.578+0800","caller":"middleware/casbin.go:40","msg":"查询用户成功","username":"admin","userID":1}
{"level":"INFO","ts":"2025-08-01T14:00:06.579+0800","caller":"middleware/casbin.go:56","msg":"获取用户角色成功","username":"admin","roles":["admin"]}
{"level":"INFO","ts":"2025-08-01T14:00:06.579+0800","caller":"middleware/casbin.go:61","msg":"请求信息","path":"/api/v1/permissions/policy","method":"POST"}
{"level":"INFO","ts":"2025-08-01T14:00:06.579+0800","caller":"middleware/casbin.go:72","msg":"权限检查通过","role":"admin","path":"/api/v1/permissions/policy","method":"POST"}
{"level":"INFO","ts":"2025-08-01T14:00:06.579+0800","caller":"middleware/casbin.go:90","msg":"权限检查通过","username":"admin","path":"/api/v1/permissions/policy","method":"POST"}
{"level":"INFO","ts":"2025-08-01T14:00:06.579+0800","caller":"controllers/permission_controller.go:56","msg":"开始添加权限策略","role":"骨灰级玩家","path":"/api/v1/users/*","method":"POST"}
{"level":"INFO","ts":"2025-08-01T14:00:06.580+0800","caller":"controllers/permission_controller.go:73","msg":"权限不存在，将创建新权限","path":"/api/v1/users/*","method":"POST"}
{"level":"INFO","ts":"2025-08-01T14:00:06.582+0800","caller":"controllers/permission_controller.go:90","msg":"创建权限成功","permissionID":16,"path":"/api/v1/users/*","method":"POST"}
{"level":"INFO","ts":"2025-08-01T14:00:06.585+0800","caller":"controllers/permission_controller.go:100","msg":"查询角色成功","roleID":3,"roleName":"骨灰级玩家"}
{"level":"INFO","ts":"2025-08-01T14:00:06.586+0800","caller":"controllers/permission_controller.go:111","msg":"角色权限关联不存在，将创建新关联","roleID":3,"permissionID":16}
{"level":"INFO","ts":"2025-08-01T14:00:06.587+0800","caller":"controllers/permission_controller.go:132","msg":"创建角色权限关联成功","roleID":3,"permissionID":16}
{"level":"INFO","ts":"2025-08-01T14:00:06.587+0800","caller":"controllers/permission_controller.go:135","msg":"开始同步权限策略到casbin","role":"骨灰级玩家","path":"/api/v1/users/*","method":"POST"}
{"level":"INFO","ts":"2025-08-01T14:00:06.588+0800","caller":"controllers/permission_controller.go:147","msg":"添加权限策略到casbin成功","role":"骨灰级玩家","path":"/api/v1/users/*","method":"POST"}
{"level":"INFO","ts":"2025-08-01T14:00:06.612+0800","caller":"controllers/permission_controller.go:155","msg":"保存权限策略成功"}
{"level":"INFO","ts":"2025-08-01T14:00:06.612+0800","caller":"controllers/permission_controller.go:157","msg":"添加权限策略操作完成","role":"骨灰级玩家","path":"/api/v1/users/*","method":"POST"}
{"level":"INFO","ts":"2025-08-01T14:01:48.305+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"INFO","ts":"2025-08-01T14:01:48.306+0800","caller":"middleware/jwt.go:73","msg":"JWT认证成功","username":"admin","userID":"1"}
{"level":"INFO","ts":"2025-08-01T14:01:48.306+0800","caller":"middleware/casbin.go:28","msg":"开始权限检查","username":"admin"}
{"level":"INFO","ts":"2025-08-01T14:01:48.307+0800","caller":"middleware/casbin.go:40","msg":"查询用户成功","username":"admin","userID":1}
{"level":"INFO","ts":"2025-08-01T14:01:48.307+0800","caller":"middleware/casbin.go:56","msg":"获取用户角色成功","username":"admin","roles":["admin"]}
{"level":"INFO","ts":"2025-08-01T14:01:48.307+0800","caller":"middleware/casbin.go:61","msg":"请求信息","path":"/api/v1/permissions/user-role","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T14:01:48.307+0800","caller":"middleware/casbin.go:72","msg":"权限检查通过","role":"admin","path":"/api/v1/permissions/user-role","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T14:01:48.307+0800","caller":"middleware/casbin.go:90","msg":"权限检查通过","username":"admin","path":"/api/v1/permissions/user-role","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T14:02:16.810+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"INFO","ts":"2025-08-01T14:02:16.810+0800","caller":"middleware/jwt.go:73","msg":"JWT认证成功","username":"admin","userID":"1"}
{"level":"INFO","ts":"2025-08-01T14:02:16.810+0800","caller":"middleware/casbin.go:28","msg":"开始权限检查","username":"admin"}
{"level":"INFO","ts":"2025-08-01T14:02:16.811+0800","caller":"middleware/casbin.go:40","msg":"查询用户成功","username":"admin","userID":1}
{"level":"INFO","ts":"2025-08-01T14:02:16.811+0800","caller":"middleware/casbin.go:56","msg":"获取用户角色成功","username":"admin","roles":["admin"]}
{"level":"INFO","ts":"2025-08-01T14:02:16.811+0800","caller":"middleware/casbin.go:61","msg":"请求信息","path":"/api/v1/users/register","method":"POST"}
{"level":"INFO","ts":"2025-08-01T14:02:16.811+0800","caller":"middleware/casbin.go:72","msg":"权限检查通过","role":"admin","path":"/api/v1/users/register","method":"POST"}
{"level":"INFO","ts":"2025-08-01T14:02:16.811+0800","caller":"middleware/casbin.go:90","msg":"权限检查通过","username":"admin","path":"/api/v1/users/register","method":"POST"}
{"level":"INFO","ts":"2025-08-01T14:02:16.811+0800","caller":"controllers/user_controller.go:154","msg":"开始用户注册操作"}
{"level":"INFO","ts":"2025-08-01T14:02:16.812+0800","caller":"controllers/user_controller.go:162","msg":"用户注册参数验证通过","username":"johnd","email":"john.doe@ex1ample.com"}
{"level":"INFO","ts":"2025-08-01T14:02:16.885+0800","caller":"services/user_service.go:75","msg":"成功分配默认角色给新用户","userID":2,"roleID":2}
{"level":"INFO","ts":"2025-08-01T14:02:16.885+0800","caller":"controllers/user_controller.go:179","msg":"用户注册成功","userID":2,"username":"johnd"}
{"level":"INFO","ts":"2025-08-01T14:02:16.885+0800","caller":"controllers/user_controller.go:181","msg":"更新用户成功","userID":2,"username":"johnd"}
{"level":"INFO","ts":"2025-08-01T14:02:42.044+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"INFO","ts":"2025-08-01T14:02:42.044+0800","caller":"middleware/jwt.go:73","msg":"JWT认证成功","username":"admin","userID":"1"}
{"level":"INFO","ts":"2025-08-01T14:02:42.044+0800","caller":"middleware/casbin.go:28","msg":"开始权限检查","username":"admin"}
{"level":"INFO","ts":"2025-08-01T14:02:42.048+0800","caller":"middleware/casbin.go:40","msg":"查询用户成功","username":"admin","userID":1}
{"level":"INFO","ts":"2025-08-01T14:02:42.048+0800","caller":"middleware/casbin.go:56","msg":"获取用户角色成功","username":"admin","roles":["admin"]}
{"level":"INFO","ts":"2025-08-01T14:02:42.048+0800","caller":"middleware/casbin.go:61","msg":"请求信息","path":"/api/v1/users/","method":"GET"}
{"level":"INFO","ts":"2025-08-01T14:02:42.048+0800","caller":"middleware/casbin.go:72","msg":"权限检查通过","role":"admin","path":"/api/v1/users/","method":"GET"}
{"level":"INFO","ts":"2025-08-01T14:02:42.048+0800","caller":"middleware/casbin.go:90","msg":"权限检查通过","username":"admin","path":"/api/v1/users/","method":"GET"}
{"level":"INFO","ts":"2025-08-01T14:02:42.048+0800","caller":"controllers/user_controller.go:352","msg":"开始获取用户列表操作"}
{"level":"INFO","ts":"2025-08-01T14:02:42.048+0800","caller":"controllers/user_controller.go:369","msg":"分页参数验证通过","page":1,"pageSize":10}
{"level":"INFO","ts":"2025-08-01T14:02:42.050+0800","caller":"controllers/user_controller.go:378","msg":"获取用户列表成功","count":2,"total":2}
{"level":"INFO","ts":"2025-08-01T14:02:49.587+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"INFO","ts":"2025-08-01T14:02:49.587+0800","caller":"middleware/jwt.go:73","msg":"JWT认证成功","username":"admin","userID":"1"}
{"level":"INFO","ts":"2025-08-01T14:02:49.587+0800","caller":"middleware/casbin.go:28","msg":"开始权限检查","username":"admin"}
{"level":"INFO","ts":"2025-08-01T14:02:49.588+0800","caller":"middleware/casbin.go:40","msg":"查询用户成功","username":"admin","userID":1}
{"level":"INFO","ts":"2025-08-01T14:02:49.588+0800","caller":"middleware/casbin.go:56","msg":"获取用户角色成功","username":"admin","roles":["admin"]}
{"level":"INFO","ts":"2025-08-01T14:02:49.588+0800","caller":"middleware/casbin.go:61","msg":"请求信息","path":"/api/v1/permissions/user-role","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T14:02:49.588+0800","caller":"middleware/casbin.go:72","msg":"权限检查通过","role":"admin","path":"/api/v1/permissions/user-role","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T14:02:49.588+0800","caller":"middleware/casbin.go:90","msg":"权限检查通过","username":"admin","path":"/api/v1/permissions/user-role","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T14:02:49.641+0800","caller":"database/casbin_sync.go:59","msg":"Casbin策略同步成功","user_role_count":2,"role_permission_count":16}
{"level":"INFO","ts":"2025-08-01T14:03:19.743+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"INFO","ts":"2025-08-01T14:03:19.743+0800","caller":"middleware/jwt.go:73","msg":"JWT认证成功","username":"admin","userID":"1"}
{"level":"INFO","ts":"2025-08-01T14:03:19.743+0800","caller":"middleware/casbin.go:28","msg":"开始权限检查","username":"admin"}
{"level":"INFO","ts":"2025-08-01T14:03:19.744+0800","caller":"middleware/casbin.go:40","msg":"查询用户成功","username":"admin","userID":1}
{"level":"INFO","ts":"2025-08-01T14:03:19.745+0800","caller":"middleware/casbin.go:56","msg":"获取用户角色成功","username":"admin","roles":["admin"]}
{"level":"INFO","ts":"2025-08-01T14:03:19.745+0800","caller":"middleware/casbin.go:61","msg":"请求信息","path":"/api/v1/roles/1","method":"GET"}
{"level":"INFO","ts":"2025-08-01T14:03:19.745+0800","caller":"middleware/casbin.go:72","msg":"权限检查通过","role":"admin","path":"/api/v1/roles/1","method":"GET"}
{"level":"INFO","ts":"2025-08-01T14:03:19.745+0800","caller":"middleware/casbin.go:90","msg":"权限检查通过","username":"admin","path":"/api/v1/roles/1","method":"GET"}
{"level":"INFO","ts":"2025-08-01T14:03:19.774+0800","caller":"database/casbin_sync.go:59","msg":"Casbin策略同步成功","user_role_count":2,"role_permission_count":16}
{"level":"INFO","ts":"2025-08-01T14:03:25.641+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"INFO","ts":"2025-08-01T14:03:25.642+0800","caller":"middleware/jwt.go:73","msg":"JWT认证成功","username":"admin","userID":"1"}
{"level":"INFO","ts":"2025-08-01T14:03:25.642+0800","caller":"middleware/casbin.go:28","msg":"开始权限检查","username":"admin"}
{"level":"INFO","ts":"2025-08-01T14:03:25.643+0800","caller":"middleware/casbin.go:40","msg":"查询用户成功","username":"admin","userID":1}
{"level":"INFO","ts":"2025-08-01T14:03:25.645+0800","caller":"middleware/casbin.go:56","msg":"获取用户角色成功","username":"admin","roles":["admin"]}
{"level":"INFO","ts":"2025-08-01T14:03:25.645+0800","caller":"middleware/casbin.go:61","msg":"请求信息","path":"/api/v1/roles/2","method":"GET"}
{"level":"INFO","ts":"2025-08-01T14:03:25.645+0800","caller":"middleware/casbin.go:72","msg":"权限检查通过","role":"admin","path":"/api/v1/roles/2","method":"GET"}
{"level":"INFO","ts":"2025-08-01T14:03:25.645+0800","caller":"middleware/casbin.go:90","msg":"权限检查通过","username":"admin","path":"/api/v1/roles/2","method":"GET"}
{"level":"INFO","ts":"2025-08-01T14:03:25.686+0800","caller":"database/casbin_sync.go:59","msg":"Casbin策略同步成功","user_role_count":2,"role_permission_count":16}
{"level":"INFO","ts":"2025-08-01T14:03:30.483+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"INFO","ts":"2025-08-01T14:03:30.484+0800","caller":"middleware/jwt.go:73","msg":"JWT认证成功","username":"admin","userID":"1"}
{"level":"INFO","ts":"2025-08-01T14:03:30.484+0800","caller":"middleware/casbin.go:28","msg":"开始权限检查","username":"admin"}
{"level":"INFO","ts":"2025-08-01T14:03:30.496+0800","caller":"middleware/casbin.go:40","msg":"查询用户成功","username":"admin","userID":1}
{"level":"INFO","ts":"2025-08-01T14:03:30.496+0800","caller":"middleware/casbin.go:56","msg":"获取用户角色成功","username":"admin","roles":["admin"]}
{"level":"INFO","ts":"2025-08-01T14:03:30.496+0800","caller":"middleware/casbin.go:61","msg":"请求信息","path":"/api/v1/roles/3","method":"GET"}
{"level":"INFO","ts":"2025-08-01T14:03:30.496+0800","caller":"middleware/casbin.go:72","msg":"权限检查通过","role":"admin","path":"/api/v1/roles/3","method":"GET"}
{"level":"INFO","ts":"2025-08-01T14:03:30.496+0800","caller":"middleware/casbin.go:90","msg":"权限检查通过","username":"admin","path":"/api/v1/roles/3","method":"GET"}
{"level":"INFO","ts":"2025-08-01T14:03:30.518+0800","caller":"database/casbin_sync.go:59","msg":"Casbin策略同步成功","user_role_count":2,"role_permission_count":16}
{"level":"INFO","ts":"2025-08-01T14:03:43.758+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"INFO","ts":"2025-08-01T14:03:43.759+0800","caller":"middleware/jwt.go:73","msg":"JWT认证成功","username":"admin","userID":"1"}
{"level":"INFO","ts":"2025-08-01T14:03:43.760+0800","caller":"middleware/casbin.go:28","msg":"开始权限检查","username":"admin"}
{"level":"INFO","ts":"2025-08-01T14:03:43.760+0800","caller":"middleware/casbin.go:40","msg":"查询用户成功","username":"admin","userID":1}
{"level":"INFO","ts":"2025-08-01T14:03:43.761+0800","caller":"middleware/casbin.go:56","msg":"获取用户角色成功","username":"admin","roles":["admin"]}
{"level":"INFO","ts":"2025-08-01T14:03:43.761+0800","caller":"middleware/casbin.go:61","msg":"请求信息","path":"/api/v1/permissions/policies","method":"GET"}
{"level":"INFO","ts":"2025-08-01T14:03:43.761+0800","caller":"middleware/casbin.go:72","msg":"权限检查通过","role":"admin","path":"/api/v1/permissions/policies","method":"GET"}
{"level":"INFO","ts":"2025-08-01T14:03:43.761+0800","caller":"middleware/casbin.go:90","msg":"权限检查通过","username":"admin","path":"/api/v1/permissions/policies","method":"GET"}
{"level":"INFO","ts":"2025-08-01T14:03:43.761+0800","caller":"controllers/permission_controller.go:280","msg":"正在获取所有权限策略"}
{"level":"INFO","ts":"2025-08-01T14:04:15.812+0800","caller":"controllers/user_controller.go:97","msg":"开始用户登录操作"}
{"level":"INFO","ts":"2025-08-01T14:04:15.815+0800","caller":"controllers/user_controller.go:105","msg":"用户登录参数验证通过","username":"johnd"}
{"level":"INFO","ts":"2025-08-01T14:04:15.894+0800","caller":"middleware/jwt.go:81","msg":"开始生成JWT令牌","username":"johnd","userID":"2"}
{"level":"INFO","ts":"2025-08-01T14:04:15.894+0800","caller":"middleware/jwt.go:85","msg":"JWT令牌过期时间","expirationTime":"2025-08-02T14:04:15.894+0800"}
{"level":"INFO","ts":"2025-08-01T14:04:15.895+0800","caller":"middleware/jwt.go:109","msg":"生成JWT令牌成功","username":"johnd"}
{"level":"INFO","ts":"2025-08-01T14:04:15.895+0800","caller":"controllers/user_controller.go:127","msg":"用户登录成功","userID":2,"username":"johnd"}
{"level":"INFO","ts":"2025-08-01T14:04:27.369+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"INFO","ts":"2025-08-01T14:04:27.370+0800","caller":"middleware/jwt.go:73","msg":"JWT认证成功","username":"johnd","userID":"2"}
{"level":"INFO","ts":"2025-08-01T14:04:27.370+0800","caller":"middleware/casbin.go:28","msg":"开始权限检查","username":"johnd"}
{"level":"INFO","ts":"2025-08-01T14:04:27.386+0800","caller":"middleware/casbin.go:40","msg":"查询用户成功","username":"johnd","userID":2}
{"level":"INFO","ts":"2025-08-01T14:04:27.386+0800","caller":"middleware/casbin.go:56","msg":"获取用户角色成功","username":"johnd","roles":["骨灰级玩家"]}
{"level":"INFO","ts":"2025-08-01T14:04:27.386+0800","caller":"middleware/casbin.go:61","msg":"请求信息","path":"/api/v1/users/1","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T14:04:27.386+0800","caller":"middleware/casbin.go:75","msg":"角色权限不足","role":"骨灰级玩家","path":"/api/v1/users/1","method":"PUT"}
{"level":"WARN","ts":"2025-08-01T14:04:27.386+0800","caller":"middleware/casbin.go:84","msg":"没有操作权限","username":"johnd","path":"/api/v1/users/1","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T14:05:36.917+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"INFO","ts":"2025-08-01T14:05:36.918+0800","caller":"middleware/jwt.go:73","msg":"JWT认证成功","username":"johnd","userID":"2"}
{"level":"INFO","ts":"2025-08-01T14:05:36.918+0800","caller":"middleware/casbin.go:28","msg":"开始权限检查","username":"johnd"}
{"level":"INFO","ts":"2025-08-01T14:05:36.919+0800","caller":"middleware/casbin.go:40","msg":"查询用户成功","username":"johnd","userID":2}
{"level":"INFO","ts":"2025-08-01T14:05:36.920+0800","caller":"middleware/casbin.go:56","msg":"获取用户角色成功","username":"johnd","roles":["骨灰级玩家"]}
{"level":"INFO","ts":"2025-08-01T14:05:36.920+0800","caller":"middleware/casbin.go:61","msg":"请求信息","path":"/api/v1/users/register","method":"POST"}
{"level":"INFO","ts":"2025-08-01T14:05:36.921+0800","caller":"middleware/casbin.go:72","msg":"权限检查通过","role":"骨灰级玩家","path":"/api/v1/users/register","method":"POST"}
{"level":"INFO","ts":"2025-08-01T14:05:36.921+0800","caller":"middleware/casbin.go:90","msg":"权限检查通过","username":"johnd","path":"/api/v1/users/register","method":"POST"}
{"level":"INFO","ts":"2025-08-01T14:05:36.921+0800","caller":"controllers/user_controller.go:154","msg":"开始用户注册操作"}
{"level":"INFO","ts":"2025-08-01T14:05:36.921+0800","caller":"controllers/user_controller.go:162","msg":"用户注册参数验证通过","username":"johnds","email":"johns.doe@ex1ample.com"}
{"level":"INFO","ts":"2025-08-01T14:05:36.996+0800","caller":"services/user_service.go:75","msg":"成功分配默认角色给新用户","userID":3,"roleID":2}
{"level":"INFO","ts":"2025-08-01T14:05:36.996+0800","caller":"controllers/user_controller.go:179","msg":"用户注册成功","userID":3,"username":"johnds"}
{"level":"INFO","ts":"2025-08-01T14:05:36.996+0800","caller":"controllers/user_controller.go:181","msg":"更新用户成功","userID":3,"username":"johnds"}
{"level":"INFO","ts":"2025-08-01T14:05:43.610+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"INFO","ts":"2025-08-01T14:05:43.611+0800","caller":"middleware/jwt.go:73","msg":"JWT认证成功","username":"johnd","userID":"2"}
{"level":"INFO","ts":"2025-08-01T14:05:43.611+0800","caller":"middleware/casbin.go:28","msg":"开始权限检查","username":"johnd"}
{"level":"INFO","ts":"2025-08-01T14:05:43.612+0800","caller":"middleware/casbin.go:40","msg":"查询用户成功","username":"johnd","userID":2}
{"level":"INFO","ts":"2025-08-01T14:05:43.613+0800","caller":"middleware/casbin.go:56","msg":"获取用户角色成功","username":"johnd","roles":["骨灰级玩家"]}
{"level":"INFO","ts":"2025-08-01T14:05:43.613+0800","caller":"middleware/casbin.go:61","msg":"请求信息","path":"/api/v1/users/register","method":"POST"}
{"level":"INFO","ts":"2025-08-01T14:05:43.613+0800","caller":"middleware/casbin.go:72","msg":"权限检查通过","role":"骨灰级玩家","path":"/api/v1/users/register","method":"POST"}
{"level":"INFO","ts":"2025-08-01T14:05:43.613+0800","caller":"middleware/casbin.go:90","msg":"权限检查通过","username":"johnd","path":"/api/v1/users/register","method":"POST"}
{"level":"INFO","ts":"2025-08-01T14:05:43.613+0800","caller":"controllers/user_controller.go:154","msg":"开始用户注册操作"}
{"level":"INFO","ts":"2025-08-01T14:05:43.614+0800","caller":"controllers/user_controller.go:162","msg":"用户注册参数验证通过","username":"johnds","email":"johns.doe@ex1ample.com"}
{"level":"ERROR","ts":"2025-08-01T14:05:43.616+0800","caller":"controllers/user_controller.go:174","msg":"创建用户失败","error":"用户名已存在"}
{"level":"INFO","ts":"2025-08-01T14:06:40.156+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"INFO","ts":"2025-08-01T14:06:40.161+0800","caller":"middleware/jwt.go:73","msg":"JWT认证成功","username":"johnd","userID":"2"}
{"level":"INFO","ts":"2025-08-01T14:06:40.161+0800","caller":"middleware/casbin.go:28","msg":"开始权限检查","username":"johnd"}
{"level":"INFO","ts":"2025-08-01T14:06:40.162+0800","caller":"middleware/casbin.go:40","msg":"查询用户成功","username":"johnd","userID":2}
{"level":"INFO","ts":"2025-08-01T14:06:40.163+0800","caller":"middleware/casbin.go:56","msg":"获取用户角色成功","username":"johnd","roles":["骨灰级玩家"]}
{"level":"INFO","ts":"2025-08-01T14:06:40.163+0800","caller":"middleware/casbin.go:61","msg":"请求信息","path":"/api/v1/users/3/password","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T14:06:40.163+0800","caller":"middleware/casbin.go:75","msg":"角色权限不足","role":"骨灰级玩家","path":"/api/v1/users/3/password","method":"PUT"}
{"level":"WARN","ts":"2025-08-01T14:06:40.163+0800","caller":"middleware/casbin.go:84","msg":"没有操作权限","username":"johnd","path":"/api/v1/users/3/password","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T14:07:11.224+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"INFO","ts":"2025-08-01T14:07:11.225+0800","caller":"middleware/jwt.go:73","msg":"JWT认证成功","username":"admin","userID":"1"}
{"level":"INFO","ts":"2025-08-01T14:07:11.225+0800","caller":"middleware/casbin.go:28","msg":"开始权限检查","username":"admin"}
{"level":"INFO","ts":"2025-08-01T14:07:11.226+0800","caller":"middleware/casbin.go:40","msg":"查询用户成功","username":"admin","userID":1}
{"level":"INFO","ts":"2025-08-01T14:07:11.227+0800","caller":"middleware/casbin.go:56","msg":"获取用户角色成功","username":"admin","roles":["admin"]}
{"level":"INFO","ts":"2025-08-01T14:07:11.227+0800","caller":"middleware/casbin.go:61","msg":"请求信息","path":"/api/v1/permissions/policy","method":"POST"}
{"level":"INFO","ts":"2025-08-01T14:07:11.227+0800","caller":"middleware/casbin.go:72","msg":"权限检查通过","role":"admin","path":"/api/v1/permissions/policy","method":"POST"}
{"level":"INFO","ts":"2025-08-01T14:07:11.228+0800","caller":"middleware/casbin.go:90","msg":"权限检查通过","username":"admin","path":"/api/v1/permissions/policy","method":"POST"}
{"level":"INFO","ts":"2025-08-01T14:07:11.228+0800","caller":"controllers/permission_controller.go:56","msg":"开始添加权限策略","role":"骨灰级玩家","path":"/api/v1/users/*","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T14:07:11.229+0800","caller":"controllers/permission_controller.go:75","msg":"权限已存在","permissionID":4,"path":"/api/v1/users/*","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T14:07:11.232+0800","caller":"controllers/permission_controller.go:100","msg":"查询角色成功","roleID":3,"roleName":"骨灰级玩家"}
{"level":"INFO","ts":"2025-08-01T14:07:11.233+0800","caller":"controllers/permission_controller.go:111","msg":"角色权限关联不存在，将创建新关联","roleID":3,"permissionID":4}
{"level":"INFO","ts":"2025-08-01T14:07:11.235+0800","caller":"controllers/permission_controller.go:132","msg":"创建角色权限关联成功","roleID":3,"permissionID":4}
{"level":"INFO","ts":"2025-08-01T14:07:11.235+0800","caller":"controllers/permission_controller.go:135","msg":"开始同步权限策略到casbin","role":"骨灰级玩家","path":"/api/v1/users/*","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T14:07:11.236+0800","caller":"controllers/permission_controller.go:147","msg":"添加权限策略到casbin成功","role":"骨灰级玩家","path":"/api/v1/users/*","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T14:07:11.249+0800","caller":"controllers/permission_controller.go:155","msg":"保存权限策略成功"}
{"level":"INFO","ts":"2025-08-01T14:07:11.249+0800","caller":"controllers/permission_controller.go:157","msg":"添加权限策略操作完成","role":"骨灰级玩家","path":"/api/v1/users/*","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T14:07:15.685+0800","caller":"middleware/jwt.go:46","msg":"开始解析JWT令牌"}
{"level":"INFO","ts":"2025-08-01T14:07:15.685+0800","caller":"middleware/jwt.go:73","msg":"JWT认证成功","username":"johnd","userID":"2"}
{"level":"INFO","ts":"2025-08-01T14:07:15.685+0800","caller":"middleware/casbin.go:28","msg":"开始权限检查","username":"johnd"}
{"level":"INFO","ts":"2025-08-01T14:07:15.686+0800","caller":"middleware/casbin.go:40","msg":"查询用户成功","username":"johnd","userID":2}
{"level":"INFO","ts":"2025-08-01T14:07:15.687+0800","caller":"middleware/casbin.go:56","msg":"获取用户角色成功","username":"johnd","roles":["骨灰级玩家"]}
{"level":"INFO","ts":"2025-08-01T14:07:15.687+0800","caller":"middleware/casbin.go:61","msg":"请求信息","path":"/api/v1/users/3/password","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T14:07:15.687+0800","caller":"middleware/casbin.go:72","msg":"权限检查通过","role":"骨灰级玩家","path":"/api/v1/users/3/password","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T14:07:15.687+0800","caller":"middleware/casbin.go:90","msg":"权限检查通过","username":"johnd","path":"/api/v1/users/3/password","method":"PUT"}
{"level":"INFO","ts":"2025-08-01T14:07:15.687+0800","caller":"controllers/user_controller.go:403","msg":"开始修改用户密码操作"}
{"level":"INFO","ts":"2025-08-01T14:07:15.687+0800","caller":"controllers/user_controller.go:413","msg":"用户ID参数验证通过","id":3}
{"level":"INFO","ts":"2025-08-01T14:07:15.687+0800","caller":"controllers/user_controller.go:422","msg":"密码修改参数验证通过"}
{"level":"INFO","ts":"2025-08-01T14:07:15.688+0800","caller":"controllers/user_controller.go:432","msg":"开始验证旧密码"}
{"level":"INFO","ts":"2025-08-01T14:07:15.755+0800","caller":"controllers/user_controller.go:439","msg":"旧密码验证通过","userID":3}
{"level":"INFO","ts":"2025-08-01T14:07:15.755+0800","caller":"controllers/user_controller.go:442","msg":"开始更新密码"}
{"level":"INFO","ts":"2025-08-01T14:07:15.823+0800","caller":"controllers/user_controller.go:449","msg":"密码更新成功","userID":3}
{"level":"INFO","ts":"2025-08-01T14:07:26.212+0800","caller":"autops/main.go:118","msg":"正在关闭服务器..."}
{"level":"INFO","ts":"2025-08-01T14:07:26.213+0800","caller":"autops/main.go:126","msg":"服务器已关闭"}
{"level":"INFO","ts":"2025-08-01T14:07:26.213+0800","caller":"database/db.go:90","msg":"数据库连接已关闭"}
{"level":"INFO","ts":"2025-08-01T14:10:51.033+0800","caller":"logger/logger.go:29","msg":"日志模块初始化成功","日志级别":"info","输出路径":"logs/"}
{"level":"INFO","ts":"2025-08-01T14:10:51.034+0800","caller":"autops/main.go:49","msg":"日志系统初始化成功"}
{"level":"INFO","ts":"2025-08-01T14:10:51.034+0800","caller":"database/db.go:19","msg":"开始初始化数据库连接"}
{"level":"INFO","ts":"2025-08-01T14:10:51.034+0800","caller":"database/db.go:40","msg":"正在连接数据库: root:123456@tcp(localhost:3306)/autops?charset=utf8mb4&parseTime=True&loc=Local"}
{"level":"INFO","ts":"2025-08-01T14:10:51.040+0800","caller":"database/db.go:49","msg":"数据库连接成功，正在设置连接池参数"}
{"level":"INFO","ts":"2025-08-01T14:10:51.040+0800","caller":"database/db.go:57","msg":"设置最大打开连接数为: 100"}
{"level":"INFO","ts":"2025-08-01T14:10:51.040+0800","caller":"database/db.go:59","msg":"设置最大空闲连接数为: 20"}
{"level":"INFO","ts":"2025-08-01T14:10:51.040+0800","caller":"database/db.go:61","msg":"设置连接最大生存时间为: 5m0s"}
{"level":"INFO","ts":"2025-08-01T14:10:51.085+0800","caller":"database/db.go:69","msg":"数据库连接成功"}
{"level":"INFO","ts":"2025-08-01T14:10:51.085+0800","caller":"autops/main.go:56","msg":"数据库连接成功"}
{"level":"INFO","ts":"2025-08-01T14:10:51.122+0800","caller":"database/init.go:173","msg":"角色和权限初始化成功"}
{"level":"INFO","ts":"2025-08-01T14:10:51.122+0800","caller":"database/admin_init.go:12","msg":"开始初始化管理员用户"}
{"level":"WARN","ts":"2025-08-01T14:10:51.122+0800","caller":"database/admin_init.go:18","msg":"管理员用户已存在"}
{"level":"WARN","ts":"2025-08-01T14:10:51.122+0800","caller":"database/admin_init.go:57","msg":"管理员用户已拥有admin角色，跳过分配"}
{"level":"INFO","ts":"2025-08-01T14:10:51.133+0800","caller":"database/casbin_sync.go:59","msg":"Casbin策略同步成功","user_role_count":3,"role_permission_count":18}
{"level":"INFO","ts":"2025-08-01T14:10:51.133+0800","caller":"autops/main.go:68","msg":"Casbin权限控制和角色权限初始化成功"}
{"level":"INFO","ts":"2025-08-01T14:10:51.134+0800","caller":"autops/main.go:108","msg":"服务器启动成功，监听端口: 8888"}
{"level":"INFO","ts":"2025-08-01T14:11:34.902+0800","caller":"autops/main.go:118","msg":"正在关闭服务器..."}
{"level":"INFO","ts":"2025-08-01T14:11:34.904+0800","caller":"autops/main.go:126","msg":"服务器已关闭"}
{"level":"INFO","ts":"2025-08-01T14:11:34.904+0800","caller":"database/db.go:90","msg":"数据库连接已关闭"}
{"level":"INFO","ts":"2025-08-01T14:15:31.414+0800","caller":"logger/logger.go:29","msg":"日志模块初始化成功","日志级别":"info","输出路径":"logs/"}
{"level":"INFO","ts":"2025-08-01T14:15:31.415+0800","caller":"autops/main.go:49","msg":"日志系统初始化成功"}
{"level":"INFO","ts":"2025-08-01T14:15:31.415+0800","caller":"database/db.go:19","msg":"开始初始化数据库连接"}
{"level":"INFO","ts":"2025-08-01T14:15:31.415+0800","caller":"database/db.go:40","msg":"正在连接数据库: root:123456@tcp(localhost:3306)/autops?charset=utf8mb4&parseTime=True&loc=Local"}
{"level":"INFO","ts":"2025-08-01T14:15:31.422+0800","caller":"database/db.go:49","msg":"数据库连接成功，正在设置连接池参数"}
{"level":"INFO","ts":"2025-08-01T14:15:31.422+0800","caller":"database/db.go:57","msg":"设置最大打开连接数为: 100"}
{"level":"INFO","ts":"2025-08-01T14:15:31.422+0800","caller":"database/db.go:59","msg":"设置最大空闲连接数为: 20"}
{"level":"INFO","ts":"2025-08-01T14:15:31.422+0800","caller":"database/db.go:61","msg":"设置连接最大生存时间为: 5m0s"}
{"level":"INFO","ts":"2025-08-01T14:15:31.463+0800","caller":"database/db.go:69","msg":"数据库连接成功"}
{"level":"INFO","ts":"2025-08-01T14:15:31.463+0800","caller":"autops/main.go:56","msg":"数据库连接成功"}
{"level":"INFO","ts":"2025-08-01T14:15:31.501+0800","caller":"database/init.go:173","msg":"角色和权限初始化成功"}
{"level":"INFO","ts":"2025-08-01T14:15:31.501+0800","caller":"database/admin_init.go:12","msg":"开始初始化管理员用户"}
{"level":"WARN","ts":"2025-08-01T14:15:31.501+0800","caller":"database/admin_init.go:18","msg":"管理员用户已存在"}
{"level":"WARN","ts":"2025-08-01T14:15:31.502+0800","caller":"database/admin_init.go:57","msg":"管理员用户已拥有admin角色，跳过分配"}
{"level":"INFO","ts":"2025-08-01T14:15:31.513+0800","caller":"database/casbin_sync.go:59","msg":"Casbin策略同步成功","user_role_count":3,"role_permission_count":18}
{"level":"INFO","ts":"2025-08-01T14:15:31.513+0800","caller":"autops/main.go:68","msg":"Casbin权限控制和角色权限初始化成功"}
{"level":"INFO","ts":"2025-08-01T14:15:31.514+0800","caller":"autops/main.go:108","msg":"服务器启动成功，监听端口: 8888"}
{"level":"INFO","ts":"2025-08-01T14:15:33.259+0800","caller":"autops/main.go:118","msg":"正在关闭服务器..."}
{"level":"INFO","ts":"2025-08-01T14:15:33.259+0800","caller":"autops/main.go:126","msg":"服务器已关闭"}
{"level":"INFO","ts":"2025-08-01T14:15:33.259+0800","caller":"database/db.go:90","msg":"数据库连接已关闭"}
